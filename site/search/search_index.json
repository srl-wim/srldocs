{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to SRLDocs On this website we","title":"Welcome to SRLDocs"},{"location":"#welcome-to-srldocs","text":"On this website we","title":"Welcome to SRLDocs"},{"location":"SRL-Config/Network-Instances/IRB/","text":"MAC-VRF with IRB In order to optimize the use of ip interfaces and subnets SRL support the concept of a MAC-VRF/IRB, which essentially is a bridged domain connected to an IP router interface. MAC-VRF/IRB allows to optimize the connectivity to client (e.g. server). With MAC-VRF/IRB we allow to aggregate all client in a bridged domain and hence the need for a dedicated IP interface is avoided. We will illustrate this with an example. In this example we have a SRL switch/router (leaf1) that connects 2 client through a MAC-VRF/IRB. We use 2 linux clients in this example, client 1 connected to port ethernet-1/5 on vlan 10 and client 2 connected to port ethernet-1/6 on vlan 20. We use the container environment for this setup. Configuring MAC-VRF instance and sub-interfaces using IRB Configure VLAN interfaces on SRL leaf1 interface ethernet-1/5 admin-state enable vlan-tagging true subinterface 1 { type bridged admin-state enable vlan { encap { single-tagged { vlan-id 10 } } } } the important parameters are: - vlan-tagging: true ; allows for VLAN enabled interfaces - subinterface type: bridged; Bridged sub-interfaces can be associated to MAC-VRF instances, that allow MAC learning and layer-2 forwarding. - vlan-id: 10 is used on this interface to client1 On SRL leaf1 interface ethernet-1/6 we have a similar configuration, but we use vlan 20 instead of vlan 10, to show that SRL support local VLAN significance. admin-state enable vlan-tagging true subinterface 1 { type bridged admin-state enable vlan { encap { single-tagged { vlan-id 20 } } } } Configure IRB interface Now that we have the vlan interfaces configured, we can create an IRB interface. The IRB interface is like a loopback interface. hence you dont see an association with the physical ethernet interface / interface irb1 IRB interface configuraton admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.168.10.1/24 { } } ipv6 { address 3000:10::1/64 { } } } The IRB interface is of type routed which is the default in the system and hence you don't need to explicitly configure it. Also you create your IPv4 and IPv6 interface IP addresses, which will be the gateway IP(s) for the linux clients that are connected tot he IRB instance Configure MAC-VRF The next step is creating the MAC-VRF network instance and associate the bridged and IRB interfaces to it. / network-instance mac-vrf10 Associate interfaces type mac-vrf admin-state enable interface ethernet-1/5.1 { } interface ethernet-1/6.1 { } interface irb1.1 { } Attach IRB interface to the default network-instance Associate the same IRB interface to the network-instance default in order to attach it to the router context. / network-instance default Associate the IRB interface on top of the other interfaces which connected the leaf to the spine layer e.g. type ip-vrf admin-state enable description \"GRT / Default VRF\" ip-forwarding { receive-ipv4-check true receive-ipv6-check true } interface ethernet-1/1.1 { } interface ethernet-1/2.1 { } interface ethernet-1/3.1 { } interface ethernet-1/4.1 { } interface irb1.1 { } interface lo0.1 { } Now the SRL switch/router is ready to handle the clients so lets connect and configure the clients Configuring Clients We use a docker container image which was setup through a container image Client1 We first spin up the container image. docker run -d --privileged --name client1 --network srlinux-mgmt --hostname client1 henderiw client-alpine:1.0.0 After we connect it to the SRL container image using a veth pair. Once this is done we can configure the eth1 interface which is used to connect to the SRL switch/router. ethtool --offload eth1 rx off tx off ip link add link eth1 name eth1.10 type vlan id 10 ip link set dev eth1.10 up sysctl -w net.ipv6.conf.eth1.10.disable_ipv6=0 ip addr add 192.168.10.10/24 dev eth1.10 ip -6 addr add 3000:10::10/64 dev eth1.10 Lets see if this configuration got applied client1:~# ifconfig eth1.10 eth1.10 Link encap:Ethernet HWaddr DE:13:FA:CF:FF:58 inet addr:192.168.10.10 Bcast:0.0.0.0 Mask:255.255.255.0 inet6 addr: fe80::dc13:faff:fecf:ff58/64 Scope:Link inet6 addr: 3000:10::10/64 Scope:Global UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:24 errors:0 dropped:0 overruns:0 frame:0 TX packets:24 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:1646 (1.6 KiB) TX bytes:1928 (1.8 KiB) Client2 We do the same on client 2. docker run -d --privileged --name client2 --network srlinux-mgmt --hostname client2 henderiw client-alpine:1.0.0 After we connect it to the SRL container image using a veth pair. Once this is done we can configure the eth1 interface which is used to connect to the SRL switch/router. ethtool --offload eth1 rx off tx off ip link add link eth1 name eth1.20 type vlan id 20 ip link set dev eth1.20 up sysctl -w net.ipv6.conf.eth1.20.disable_ipv6=0 ip addr add 192.168.10.20/24 dev eth1.20 ip -6 addr add 3000:10::20/64 dev eth1.20 Lets see if this configuration got applied client2:~# ifconfig eth1.20 eth1.20 Link encap:Ethernet HWaddr 32:64:9C:98:9E:FD inet addr:192.168.10.20 Bcast:0.0.0.0 Mask:255.255.255.0 inet6 addr: fe80::3064:9cff:fe98:9efd/64 Scope:Link inet6 addr: 3000:10::20/64 Scope:Global UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:9 errors:0 dropped:0 overruns:0 frame:0 TX packets:20 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:540 (540.0 B) TX bytes:1592 (1.5 KiB) Lets verfy the connectivity From CLient 1 ping SRL routed gateway client1:~# ping6 3000:10::1 PING 3000:10::1 (3000:10::1): 56 data bytes 64 bytes from 3000:10::1: seq=0 ttl=64 time=3.338 ms 64 bytes from 3000:10::1: seq=1 ttl=64 time=1.423 ms Ping CLient2 client1:~# ping6 3000:10::20 PING 3000:10::20 (3000:10::20): 56 data bytes 64 bytes from 3000:10::20: seq=0 ttl=64 time=0.312 ms 64 bytes from 3000:10::20: seq=1 ttl=64 time=0.342 ms 64 bytes from 3000:10::20: seq=2 ttl=64 time=0.354 ms On SRL Show MAC table A:ant1-dc-fab-f1p1-leaf1# show / network-instance mac-vrf10 bridge-table mac-table all | as json { \"Network\": [ { \"Name\": \"mac-vrf10\", \"Mac table\": [ { \"address\": \"00:01:01:FF:00:41\", \"Destination\": \"irb-interface\", \"Dest Index\": 0, \"Type\": \"irb-interface\", \"Active\": true, \"Aging\": \"N/A\", \"Last Update\": \"2020-08-05T04:33:51.000Z\" }, { \"address\": \"32:64:9C:98:9E:FD\", \"Destination\": \"ethernet-1/6.1\", \"Dest Index\": 8, \"Type\": \"learnt\", \"Active\": true, \"Aging\": \"255\", \"Last Update\": \"2020-08-05T05:29:43.000Z\" }, { \"address\": \"DE:13:FA:CF:FF:58\", \"Destination\": \"ethernet-1/5.1\", \"Dest Index\": 7, \"Type\": \"learnt\", \"Active\": true, \"Aging\": \"255\", \"Last Update\": \"2020-08-05T05:29:37.000Z\" } ] } ], \"Total Statistics\": [ { \"Counter name\": \"Total Irb Macs\", \"Total\": 1, \"Active\": 1 }, { \"Counter name\": \"Total Static Macs\", \"Total\": 0, \"Active\": 0 }, { \"Counter name\": \"Total Duplicate Macs\", \"Total\": 0, \"Active\": 0 }, { \"Counter name\": \"Total Learnt Macs\", \"Total\": 2, \"Active\": 2 }, { \"Counter name\": \"Total Macs\", \"Total\": 3, \"Active\": 3 } ] }","title":"MAC-VRF with IRB"},{"location":"SRL-Config/Network-Instances/IRB/#mac-vrf-with-irb","text":"In order to optimize the use of ip interfaces and subnets SRL support the concept of a MAC-VRF/IRB, which essentially is a bridged domain connected to an IP router interface. MAC-VRF/IRB allows to optimize the connectivity to client (e.g. server). With MAC-VRF/IRB we allow to aggregate all client in a bridged domain and hence the need for a dedicated IP interface is avoided. We will illustrate this with an example. In this example we have a SRL switch/router (leaf1) that connects 2 client through a MAC-VRF/IRB. We use 2 linux clients in this example, client 1 connected to port ethernet-1/5 on vlan 10 and client 2 connected to port ethernet-1/6 on vlan 20. We use the container environment for this setup.","title":"MAC-VRF with IRB"},{"location":"SRL-Config/Network-Instances/IRB/#configuring-mac-vrf-instance-and-sub-interfaces-using-irb","text":"","title":"Configuring MAC-VRF instance and sub-interfaces using IRB"},{"location":"SRL-Config/Network-Instances/IRB/#configure-vlan-interfaces","text":"on SRL leaf1 interface ethernet-1/5 admin-state enable vlan-tagging true subinterface 1 { type bridged admin-state enable vlan { encap { single-tagged { vlan-id 10 } } } } the important parameters are: - vlan-tagging: true ; allows for VLAN enabled interfaces - subinterface type: bridged; Bridged sub-interfaces can be associated to MAC-VRF instances, that allow MAC learning and layer-2 forwarding. - vlan-id: 10 is used on this interface to client1 On SRL leaf1 interface ethernet-1/6 we have a similar configuration, but we use vlan 20 instead of vlan 10, to show that SRL support local VLAN significance. admin-state enable vlan-tagging true subinterface 1 { type bridged admin-state enable vlan { encap { single-tagged { vlan-id 20 } } } }","title":"Configure VLAN interfaces"},{"location":"SRL-Config/Network-Instances/IRB/#configure-irb-interface","text":"Now that we have the vlan interfaces configured, we can create an IRB interface. The IRB interface is like a loopback interface. hence you dont see an association with the physical ethernet interface / interface irb1 IRB interface configuraton admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.168.10.1/24 { } } ipv6 { address 3000:10::1/64 { } } } The IRB interface is of type routed which is the default in the system and hence you don't need to explicitly configure it. Also you create your IPv4 and IPv6 interface IP addresses, which will be the gateway IP(s) for the linux clients that are connected tot he IRB instance","title":"Configure IRB interface"},{"location":"SRL-Config/Network-Instances/IRB/#configure-mac-vrf","text":"The next step is creating the MAC-VRF network instance and associate the bridged and IRB interfaces to it. / network-instance mac-vrf10 Associate interfaces type mac-vrf admin-state enable interface ethernet-1/5.1 { } interface ethernet-1/6.1 { } interface irb1.1 { }","title":"Configure MAC-VRF"},{"location":"SRL-Config/Network-Instances/IRB/#attach-irb-interface-to-the-default-network-instance","text":"Associate the same IRB interface to the network-instance default in order to attach it to the router context. / network-instance default Associate the IRB interface on top of the other interfaces which connected the leaf to the spine layer e.g. type ip-vrf admin-state enable description \"GRT / Default VRF\" ip-forwarding { receive-ipv4-check true receive-ipv6-check true } interface ethernet-1/1.1 { } interface ethernet-1/2.1 { } interface ethernet-1/3.1 { } interface ethernet-1/4.1 { } interface irb1.1 { } interface lo0.1 { } Now the SRL switch/router is ready to handle the clients so lets connect and configure the clients","title":"Attach IRB interface to the default network-instance"},{"location":"SRL-Config/Network-Instances/IRB/#configuring-clients","text":"We use a docker container image which was setup through a container image","title":"Configuring Clients"},{"location":"SRL-Config/Network-Instances/IRB/#client1","text":"We first spin up the container image. docker run -d --privileged --name client1 --network srlinux-mgmt --hostname client1 henderiw client-alpine:1.0.0 After we connect it to the SRL container image using a veth pair. Once this is done we can configure the eth1 interface which is used to connect to the SRL switch/router. ethtool --offload eth1 rx off tx off ip link add link eth1 name eth1.10 type vlan id 10 ip link set dev eth1.10 up sysctl -w net.ipv6.conf.eth1.10.disable_ipv6=0 ip addr add 192.168.10.10/24 dev eth1.10 ip -6 addr add 3000:10::10/64 dev eth1.10 Lets see if this configuration got applied client1:~# ifconfig eth1.10 eth1.10 Link encap:Ethernet HWaddr DE:13:FA:CF:FF:58 inet addr:192.168.10.10 Bcast:0.0.0.0 Mask:255.255.255.0 inet6 addr: fe80::dc13:faff:fecf:ff58/64 Scope:Link inet6 addr: 3000:10::10/64 Scope:Global UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:24 errors:0 dropped:0 overruns:0 frame:0 TX packets:24 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:1646 (1.6 KiB) TX bytes:1928 (1.8 KiB)","title":"Client1"},{"location":"SRL-Config/Network-Instances/IRB/#client2","text":"We do the same on client 2. docker run -d --privileged --name client2 --network srlinux-mgmt --hostname client2 henderiw client-alpine:1.0.0 After we connect it to the SRL container image using a veth pair. Once this is done we can configure the eth1 interface which is used to connect to the SRL switch/router. ethtool --offload eth1 rx off tx off ip link add link eth1 name eth1.20 type vlan id 20 ip link set dev eth1.20 up sysctl -w net.ipv6.conf.eth1.20.disable_ipv6=0 ip addr add 192.168.10.20/24 dev eth1.20 ip -6 addr add 3000:10::20/64 dev eth1.20 Lets see if this configuration got applied client2:~# ifconfig eth1.20 eth1.20 Link encap:Ethernet HWaddr 32:64:9C:98:9E:FD inet addr:192.168.10.20 Bcast:0.0.0.0 Mask:255.255.255.0 inet6 addr: fe80::3064:9cff:fe98:9efd/64 Scope:Link inet6 addr: 3000:10::20/64 Scope:Global UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:9 errors:0 dropped:0 overruns:0 frame:0 TX packets:20 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:540 (540.0 B) TX bytes:1592 (1.5 KiB)","title":"Client2"},{"location":"SRL-Config/Network-Instances/IRB/#lets-verfy-the-connectivity","text":"","title":"Lets verfy the connectivity"},{"location":"SRL-Config/Network-Instances/IRB/#from-client-1","text":"ping SRL routed gateway client1:~# ping6 3000:10::1 PING 3000:10::1 (3000:10::1): 56 data bytes 64 bytes from 3000:10::1: seq=0 ttl=64 time=3.338 ms 64 bytes from 3000:10::1: seq=1 ttl=64 time=1.423 ms Ping CLient2 client1:~# ping6 3000:10::20 PING 3000:10::20 (3000:10::20): 56 data bytes 64 bytes from 3000:10::20: seq=0 ttl=64 time=0.312 ms 64 bytes from 3000:10::20: seq=1 ttl=64 time=0.342 ms 64 bytes from 3000:10::20: seq=2 ttl=64 time=0.354 ms","title":"From CLient 1"},{"location":"SRL-Config/Network-Instances/IRB/#on-srl","text":"Show MAC table A:ant1-dc-fab-f1p1-leaf1# show / network-instance mac-vrf10 bridge-table mac-table all | as json { \"Network\": [ { \"Name\": \"mac-vrf10\", \"Mac table\": [ { \"address\": \"00:01:01:FF:00:41\", \"Destination\": \"irb-interface\", \"Dest Index\": 0, \"Type\": \"irb-interface\", \"Active\": true, \"Aging\": \"N/A\", \"Last Update\": \"2020-08-05T04:33:51.000Z\" }, { \"address\": \"32:64:9C:98:9E:FD\", \"Destination\": \"ethernet-1/6.1\", \"Dest Index\": 8, \"Type\": \"learnt\", \"Active\": true, \"Aging\": \"255\", \"Last Update\": \"2020-08-05T05:29:43.000Z\" }, { \"address\": \"DE:13:FA:CF:FF:58\", \"Destination\": \"ethernet-1/5.1\", \"Dest Index\": 7, \"Type\": \"learnt\", \"Active\": true, \"Aging\": \"255\", \"Last Update\": \"2020-08-05T05:29:37.000Z\" } ] } ], \"Total Statistics\": [ { \"Counter name\": \"Total Irb Macs\", \"Total\": 1, \"Active\": 1 }, { \"Counter name\": \"Total Static Macs\", \"Total\": 0, \"Active\": 0 }, { \"Counter name\": \"Total Duplicate Macs\", \"Total\": 0, \"Active\": 0 }, { \"Counter name\": \"Total Learnt Macs\", \"Total\": 2, \"Active\": 2 }, { \"Counter name\": \"Total Macs\", \"Total\": 3, \"Active\": 3 } ] }","title":"On SRL"},{"location":"SRL-Config/Protocols/BGP-SRL-cEOS/","text":"Configuring eBGP between Nokia SRL and Arista cEOS This note describes how to setup isis between Nokia SRLinux and Arista cEOS. We use a triangle topology with 2 SRL and 1 cEOS device as an example WAN1 (SRL) (e1-1) -------(e1-1) WAN2 (SRL) (e1-2) (e1-2) | | +--(Et2) WAN3 (cEOS) (Et1)---+ We configure both IPv4 and IPv6 to show dual stack BGP environment Configuring interfaces First we have to configure the interfaces on the various devices WAN1 - SRL router Configure the interface on WAN1 to WAN2 SRL --{ running }--[ interface ethernet-1/1 ]-- A:wan1# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.1.1/24 { } } ipv6 { address 2000:192:1::1/64 { } } } Configure the interface on WAN1 to WAN3 cEOS --{ running }--[ interface ethernet-1/2 ]-- A:wan1# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.3.1/24 { } } ipv6 { address 2000:192:3::1/64 { } } } WAN2- SRL router Configure the interface on WAN2 to WAN1 SRL --{ running }--[ interface ethernet-1/1 ]-- A:wan2# info subinterface 1 { admin-state enable ipv4 { address 192.1.1.2/24 { } } ipv6 { address 2000:192:1::2/64 { } } } Configure the interface on WAN2 to WAN3 cEOS --{ running }--[ interface ethernet-1/2 ]-- A:wan2# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.2.1/24 { } } ipv6 { address 2000:192:2::1/64 { } } } WAN3 - cEOS router Configure the interface on WAN3 to WAN2 SRL interface Ethernet1 no switchport ip address 192.1.2.2/24 ipv6 address 2000:192:2::2/64 Configure the interface on WAN3 to WAN2 SRL interface Ethernet2 no switchport ip address 192.1.3.2/24 ipv6 address 2000:192:3::2/64 Configuring the router instance Before we can configure BGP we should enable the router instance on the various devices. On SRL we create a network-instance, which is like a VRF-Lite and can be used for the global routing table. In cEOS we enable ip routing and ipv6 routing. WAN1 - SRL router --{ running }--[ network-instance default ]-- A:wan1# info type default admin-state enable interface ethernet-1/1.1 { } interface ethernet-1/2.1 { } interface lo1.1 { } WAN2- SRL router --{ running }--[ network-instance default ]-- A:wan2# info type default admin-state enable interface ethernet-1/1.1 { } interface ethernet-1/2.1 { } interface lo1.1 { } WAN3 - cEOS router ip routing ! ipv6 unicast-routing ! Configuring BGP After the interfaces are configured we will configure dual stack eBGP between the various routers. WAN1 - SRL router On SRL we create a BGP protocol instance lab --{ candidate private private-root }--[ network-instance default protocols ]-- A:wan1# isis instance lab After we configure the isis parameters like: admin-state: enables the isis instance interface configuration for ethernet1-1.1, ethernet1-2/1 and lo1.1 IPv4-unicast IPv6-unicast net: The NET is 8-20 octets long and consists of 3 parts: Area ID \u2014 A variable length field between 1 and 13 bytes. This includes the Authority and Format Identifier (AFI) as the most significant byte and the area ID. System ID \u2014 A 6-byte system identification. This value is not configurable. The system ID is derived from the system or router ID. Selector ID \u2014 A 1-byte selector identification that must contain zeros when configuring a NET. This value is not configurable. The selector ID is always 00. There are many more features supported by SRL which can be read in the configuration guides A:wan1# instance lab --{ running }--[ network-instance default protocols isis instance lab ]-- A:wan1# info admin-state enable net [ 49.0001.0001.0000.0000.00 ] ipv4-unicast { admin-state enable } ipv6-unicast { admin-state enable } interface ethernet-1/1.1 { admin-state enable circuit-type point-to-point } interface ethernet-1/2.1 { admin-state enable circuit-type point-to-point } interface lo1.1 { passive true } WAN2 - SRL router A similar configuration is setup on WAN2 router --{ running }--[ network-instance default protocols isis instance lab ]-- A:wan2# info admin-state enable net [ 49.0001.0002.0000.0000.00 ] ipv4-unicast { admin-state enable } ipv6-unicast { admin-state enable } interface ethernet-1/1.1 { admin-state enable circuit-type point-to-point } interface ethernet-1/2.1 { admin-state enable circuit-type point-to-point } interface lo1.1 { passive true } WAN3 - cEOS router On cEOS the configuration is slightly different, First we enable the isis instance with the specific net/system id and disable hello-padding router isis lab no hello padding net 49.0001.0003.0000.0000.00 log-adjacency-changes ! address-family ipv4 unicast ! address-family ipv6 unicast ! After we map the interfaces to the isis instance interface Ethernet1 no switchport ip address 192.1.2.2/24 ipv6 address 2000:192:2::2/64 isis enable lab isis network point-to-point ! interface Ethernet2 no switchport ip address 192.1.3.2/24 ipv6 address 2000:192:3::2/64 isis enable lab isis network point-to-point ! Viewing ISIS state Now that we configured OSPF on the various devices we can look at the operational state of the various devices ISIS adjacency On SRL devices A:wan1# show / network-instance default protocols isis adjacency Network Instance: default Instance : lab +------------------+-----------------+----------------+------------+-----------------+-------+-----------------+-----------------+ | Neighbor System | Adjacency Level | Interface Name | Ip Address | Ipv6 Address | State | Last transition | Remaining | | Id | | | | | | | holdtime | +==================+=================+================+============+=================+=======+=================+=================+ | 0002.0000.0000 | L2 | ethernet-1/1.1 | 192.1.1.2 | fe80::201:1ff:f | up | 2020-08-30T16:3 | 22 | | | | | | eff:0 | | 4:10.100Z | | +------------------+-----------------+----------------+------------+-----------------+-------+-----------------+-----------------+ +------------------+-----------------+----------------+------------+-----------------+-------+-----------------+-----------------+ | Neighbor System | Adjacency Level | Interface Name | Ip Address | Ipv6 Address | State | Last transition | Remaining | | Id | | | | | | | holdtime | +==================+=================+================+============+=================+=======+=================+=================+ | 0003.0000.0000 | L1L2 | ethernet-1/2.1 | 192.1.3.2 | fe80::44f4:d4ff | up | 2020-08-30T16:3 | 22 | | | | | | :fec9:1af1 | | 4:20.500Z | | +------------------+-----------------+----------------+------------+-----------------+-------+-----------------+-----------------+ +-------------------+-----------------+----------------+------------+--------------+-------+-----------------+-------------------+ | Neighbor System | Adjacency Level | Interface Name | Ip Address | Ipv6 Address | State | Last transition | Remaining | | Id | | | | | | | holdtime | +===================+=================+================+============+==============+=======+=================+===================+ +-------------------+-----------------+----------------+------------+--------------+-------+-----------------+-------------------+ Adjacency Count: 2 ================================================================================================================================== On cEOS device ISIS database On SRL devices A:wan1# show / network-instance default protocols isis database ---------------------------------------------------------------------------------------------------------------------------------- Network Instance: default Instance : lab +--------------+----------------------+----------+----------+----------+------------+ | Level Number | Lsp Id | Sequence | Checksum | Lifetime | Attributes | +==============+======================+==========+==========+==========+============+ | 2 | 0001.0000.0000.00-00 | 0x1d | 0x6dab | 834 | L1 L2 | | 2 | 0002.0000.0000.00-00 | 0x4b | 0xd217 | 809 | L1 L2 | | 2 | 0003.0000.0000.00-00 | 0x13 | 0xa8e5 | 937 | L1 L2 | +--------------+----------------------+----------+----------+----------+------------+ LSP Count: 3 ---------------------------------------------------------------------------------------------------------------------------------- On cEOS device wan3(config-router-isis)#sh isis database IS-IS Instance: lab VRF: default IS-IS Level 1 Link State Database LSPID Seq Num Cksum Life IS Flags wan3.00-00 14 20104 466 L2 <> IS-IS Level 2 Link State Database LSPID Seq Num Cksum Life IS Flags wan1.00-00 30 27564 985 L2 <> wan2.00-00 76 53272 907 L2 <> wan3.00-00 19 43237 444 L2 <> Routing table on SRL devices A:wan1# show / network-instance default route-table all ---------------------------------------------------------------------------------------------------------------------------------- IPv4 Unicast route table of network instance default ---------------------------------------------------------------------------------------------------------------------------------- +-----------------------+------+-----------+----------------+--------+------+-------------------------------+--------------+ | Prefix | ID | Active | Owner | Metric | Pref | Next-hop (Type) | Next-hop | | | | | | | | | Interface | +=======================+======+===========+================+========+======+===============================+==============+ | 1.1.1.1/32 | 0 | true | host | 0 | 0 | None (extract) | None | | 1.1.1.2/32 | 0 | true | isis | 10 | 18 | 192.1.1.2 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 192.1.1.0/24 | 0 | true | local | 0 | 0 | 192.1.1.1 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 192.1.1.1/32 | 0 | true | host | 0 | 0 | None (extract) | None | | 192.1.1.255/32 | 0 | true | host | 0 | 0 | None (broadcast) | None | | 192.1.2.0/24 | 0 | true | isis | 20 | 18 | 192.1.1.2 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 192.1.3.0/24 | 0 | true | local | 0 | 0 | 192.1.3.1 (direct) | ethernet-1/2 | | | | | | | | | .1 | | 192.1.3.1/32 | 0 | true | host | 0 | 0 | None (extract) | None | | 192.1.3.255/32 | 0 | true | host | 0 | 0 | None (broadcast) | None | +-----------------------+------+-----------+----------------+--------+------+-------------------------------+--------------+ ---------------------------------------------------------------------------------------------------------------------------------- 9 IPv4 routes total 9 IPv4 prefixes with active routes 0 IPv4 prefixes with active ECMP routes ---------------------------------------------------------------------------------------------------------------------------------- ---------------------------------------------------------------------------------------------------------------------------------- IPv6 Unicast route table of network instance default ---------------------------------------------------------------------------------------------------------------------------------- +-----------------------+------+-----------+----------------+--------+------+-------------------------------+--------------+ | Prefix | ID | Active | Owner | Metric | Pref | Next-hop (Type) | Next-hop | | | | | | | | | Interface | +=======================+======+===========+================+========+======+===============================+==============+ | 2000:192:1::/64 | 0 | true | local | 0 | 0 | 2000:192:1::1 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 2000:192:1::1/128 | 0 | true | host | 0 | 0 | None (extract) | None | | 2000:192:2::/64 | 0 | true | isis | 20 | 18 | fe80::201:1ff:feff:0 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 2000:192:3::/64 | 0 | true | local | 0 | 0 | 2000:192:3::1 (direct) | ethernet-1/2 | | | | | | | | | .1 | | 2000:192:3::1/128 | 0 | true | host | 0 | 0 | None (extract) | None | | 3000::1/128 | 0 | true | host | 0 | 0 | None (extract) | None | | 3000::2/128 | 0 | true | isis | 10 | 18 | fe80::201:1ff:feff:0 (direct) | ethernet-1/1 | | | | | | | | | .1 | +-----------------------+------+-----------+----------------+--------+------+-------------------------------+--------------+ ---------------------------------------------------------------------------------------------------------------------------------- 7 IPv6 routes total 7 IPv6 prefixes with active routes 0 IPv6 prefixes with active ECMP routes ---------------------------------------------------------------------------------------------------------------------------------- on cEOS device wan3(config)#sh ip route VRF: default Codes: C - connected, S - static, K - kernel, O - OSPF, IA - OSPF inter area, E1 - OSPF external type 1, E2 - OSPF external type 2, N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type2, B - BGP, B I - iBGP, B E - eBGP, R - RIP, I L1 - IS-IS level 1, I L2 - IS-IS level 2, O3 - OSPFv3, A B - BGP Aggregate, A O - OSPF Summary, NG - Nexthop Group Static Route, V - VXLAN Control Service, DH - DHCP client installed default route, M - Martian, DP - Dynamic Policy Route, L - VRF Leaked, RC - Route Cache Route Gateway of last resort is not set I L2 1.1.1.1/32 [115/10] via 192.1.3.1, Ethernet2 I L2 1.1.1.2/32 [115/10] via 192.1.2.1, Ethernet1 I L2 192.1.1.0/24 [115/20] via 192.1.2.1, Ethernet1 via 192.1.3.1, Ethernet2 C 192.1.2.0/24 is directly connected, Ethernet1 C 192.1.3.0/24 is directly connected, Ethernet2 wan3(config)#sh ipv6 route VRF: default Displaying 5 of 11 IPv6 routing table entries Codes: C - connected, S - static, K - kernel, O3 - OSPFv3, B - BGP, R - RIP, A B - BGP Aggregate, I L1 - IS-IS level 1, I L2 - IS-IS level 2, DH - DHCP, NG - Nexthop Group Static Route, M - Martian, DP - Dynamic Policy Route, L - VRF Leaked, RC - Route Cache Route I L2 2000:192:1::/64 [115/20] via fe80::201:1ff:feff:1, Ethernet1 via fe80::201:ff:feff:1, Ethernet2 C 2000:192:2::/64 [0/1] via Ethernet1, directly connected C 2000:192:3::/64 [0/1] via Ethernet2, directly connected I L2 3000::1/128 [115/10] via fe80::201:ff:feff:1, Ethernet2 I L2 3000::2/128 [115/10] via fe80::201:1ff:feff:1, Ethernet1","title":"Configuring eBGP between Nokia SRL and Arista cEOS"},{"location":"SRL-Config/Protocols/BGP-SRL-cEOS/#configuring-ebgp-between-nokia-srl-and-arista-ceos","text":"This note describes how to setup isis between Nokia SRLinux and Arista cEOS. We use a triangle topology with 2 SRL and 1 cEOS device as an example WAN1 (SRL) (e1-1) -------(e1-1) WAN2 (SRL) (e1-2) (e1-2) | | +--(Et2) WAN3 (cEOS) (Et1)---+ We configure both IPv4 and IPv6 to show dual stack BGP environment","title":"Configuring eBGP between Nokia SRL and Arista cEOS"},{"location":"SRL-Config/Protocols/BGP-SRL-cEOS/#configuring-interfaces","text":"First we have to configure the interfaces on the various devices","title":"Configuring interfaces"},{"location":"SRL-Config/Protocols/BGP-SRL-cEOS/#wan1-srl-router","text":"Configure the interface on WAN1 to WAN2 SRL --{ running }--[ interface ethernet-1/1 ]-- A:wan1# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.1.1/24 { } } ipv6 { address 2000:192:1::1/64 { } } } Configure the interface on WAN1 to WAN3 cEOS --{ running }--[ interface ethernet-1/2 ]-- A:wan1# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.3.1/24 { } } ipv6 { address 2000:192:3::1/64 { } } }","title":"WAN1 - SRL router"},{"location":"SRL-Config/Protocols/BGP-SRL-cEOS/#wan2-srl-router","text":"Configure the interface on WAN2 to WAN1 SRL --{ running }--[ interface ethernet-1/1 ]-- A:wan2# info subinterface 1 { admin-state enable ipv4 { address 192.1.1.2/24 { } } ipv6 { address 2000:192:1::2/64 { } } } Configure the interface on WAN2 to WAN3 cEOS --{ running }--[ interface ethernet-1/2 ]-- A:wan2# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.2.1/24 { } } ipv6 { address 2000:192:2::1/64 { } } }","title":"WAN2- SRL router"},{"location":"SRL-Config/Protocols/BGP-SRL-cEOS/#wan3-ceos-router","text":"Configure the interface on WAN3 to WAN2 SRL interface Ethernet1 no switchport ip address 192.1.2.2/24 ipv6 address 2000:192:2::2/64 Configure the interface on WAN3 to WAN2 SRL interface Ethernet2 no switchport ip address 192.1.3.2/24 ipv6 address 2000:192:3::2/64","title":"WAN3 - cEOS router"},{"location":"SRL-Config/Protocols/BGP-SRL-cEOS/#configuring-the-router-instance","text":"Before we can configure BGP we should enable the router instance on the various devices. On SRL we create a network-instance, which is like a VRF-Lite and can be used for the global routing table. In cEOS we enable ip routing and ipv6 routing.","title":"Configuring the router instance"},{"location":"SRL-Config/Protocols/BGP-SRL-cEOS/#wan1-srl-router_1","text":"--{ running }--[ network-instance default ]-- A:wan1# info type default admin-state enable interface ethernet-1/1.1 { } interface ethernet-1/2.1 { } interface lo1.1 { }","title":"WAN1 - SRL router"},{"location":"SRL-Config/Protocols/BGP-SRL-cEOS/#wan2-srl-router_1","text":"--{ running }--[ network-instance default ]-- A:wan2# info type default admin-state enable interface ethernet-1/1.1 { } interface ethernet-1/2.1 { } interface lo1.1 { }","title":"WAN2- SRL router"},{"location":"SRL-Config/Protocols/BGP-SRL-cEOS/#wan3-ceos-router_1","text":"ip routing ! ipv6 unicast-routing !","title":"WAN3 - cEOS router"},{"location":"SRL-Config/Protocols/BGP-SRL-cEOS/#configuring-bgp","text":"After the interfaces are configured we will configure dual stack eBGP between the various routers.","title":"Configuring BGP"},{"location":"SRL-Config/Protocols/BGP-SRL-cEOS/#wan1-srl-router_2","text":"On SRL we create a BGP protocol instance lab --{ candidate private private-root }--[ network-instance default protocols ]-- A:wan1# isis instance lab After we configure the isis parameters like: admin-state: enables the isis instance interface configuration for ethernet1-1.1, ethernet1-2/1 and lo1.1 IPv4-unicast IPv6-unicast net: The NET is 8-20 octets long and consists of 3 parts: Area ID \u2014 A variable length field between 1 and 13 bytes. This includes the Authority and Format Identifier (AFI) as the most significant byte and the area ID. System ID \u2014 A 6-byte system identification. This value is not configurable. The system ID is derived from the system or router ID. Selector ID \u2014 A 1-byte selector identification that must contain zeros when configuring a NET. This value is not configurable. The selector ID is always 00. There are many more features supported by SRL which can be read in the configuration guides A:wan1# instance lab --{ running }--[ network-instance default protocols isis instance lab ]-- A:wan1# info admin-state enable net [ 49.0001.0001.0000.0000.00 ] ipv4-unicast { admin-state enable } ipv6-unicast { admin-state enable } interface ethernet-1/1.1 { admin-state enable circuit-type point-to-point } interface ethernet-1/2.1 { admin-state enable circuit-type point-to-point } interface lo1.1 { passive true }","title":"WAN1 - SRL router"},{"location":"SRL-Config/Protocols/BGP-SRL-cEOS/#wan2-srl-router_2","text":"A similar configuration is setup on WAN2 router --{ running }--[ network-instance default protocols isis instance lab ]-- A:wan2# info admin-state enable net [ 49.0001.0002.0000.0000.00 ] ipv4-unicast { admin-state enable } ipv6-unicast { admin-state enable } interface ethernet-1/1.1 { admin-state enable circuit-type point-to-point } interface ethernet-1/2.1 { admin-state enable circuit-type point-to-point } interface lo1.1 { passive true }","title":"WAN2 - SRL router"},{"location":"SRL-Config/Protocols/BGP-SRL-cEOS/#wan3-ceos-router_2","text":"On cEOS the configuration is slightly different, First we enable the isis instance with the specific net/system id and disable hello-padding router isis lab no hello padding net 49.0001.0003.0000.0000.00 log-adjacency-changes ! address-family ipv4 unicast ! address-family ipv6 unicast ! After we map the interfaces to the isis instance interface Ethernet1 no switchport ip address 192.1.2.2/24 ipv6 address 2000:192:2::2/64 isis enable lab isis network point-to-point ! interface Ethernet2 no switchport ip address 192.1.3.2/24 ipv6 address 2000:192:3::2/64 isis enable lab isis network point-to-point !","title":"WAN3 - cEOS router"},{"location":"SRL-Config/Protocols/BGP-SRL-cEOS/#viewing-isis-state","text":"Now that we configured OSPF on the various devices we can look at the operational state of the various devices","title":"Viewing ISIS state"},{"location":"SRL-Config/Protocols/BGP-SRL-cEOS/#isis-adjacency","text":"On SRL devices A:wan1# show / network-instance default protocols isis adjacency Network Instance: default Instance : lab +------------------+-----------------+----------------+------------+-----------------+-------+-----------------+-----------------+ | Neighbor System | Adjacency Level | Interface Name | Ip Address | Ipv6 Address | State | Last transition | Remaining | | Id | | | | | | | holdtime | +==================+=================+================+============+=================+=======+=================+=================+ | 0002.0000.0000 | L2 | ethernet-1/1.1 | 192.1.1.2 | fe80::201:1ff:f | up | 2020-08-30T16:3 | 22 | | | | | | eff:0 | | 4:10.100Z | | +------------------+-----------------+----------------+------------+-----------------+-------+-----------------+-----------------+ +------------------+-----------------+----------------+------------+-----------------+-------+-----------------+-----------------+ | Neighbor System | Adjacency Level | Interface Name | Ip Address | Ipv6 Address | State | Last transition | Remaining | | Id | | | | | | | holdtime | +==================+=================+================+============+=================+=======+=================+=================+ | 0003.0000.0000 | L1L2 | ethernet-1/2.1 | 192.1.3.2 | fe80::44f4:d4ff | up | 2020-08-30T16:3 | 22 | | | | | | :fec9:1af1 | | 4:20.500Z | | +------------------+-----------------+----------------+------------+-----------------+-------+-----------------+-----------------+ +-------------------+-----------------+----------------+------------+--------------+-------+-----------------+-------------------+ | Neighbor System | Adjacency Level | Interface Name | Ip Address | Ipv6 Address | State | Last transition | Remaining | | Id | | | | | | | holdtime | +===================+=================+================+============+==============+=======+=================+===================+ +-------------------+-----------------+----------------+------------+--------------+-------+-----------------+-------------------+ Adjacency Count: 2 ================================================================================================================================== On cEOS device","title":"ISIS adjacency"},{"location":"SRL-Config/Protocols/BGP-SRL-cEOS/#isis-database","text":"On SRL devices A:wan1# show / network-instance default protocols isis database ---------------------------------------------------------------------------------------------------------------------------------- Network Instance: default Instance : lab +--------------+----------------------+----------+----------+----------+------------+ | Level Number | Lsp Id | Sequence | Checksum | Lifetime | Attributes | +==============+======================+==========+==========+==========+============+ | 2 | 0001.0000.0000.00-00 | 0x1d | 0x6dab | 834 | L1 L2 | | 2 | 0002.0000.0000.00-00 | 0x4b | 0xd217 | 809 | L1 L2 | | 2 | 0003.0000.0000.00-00 | 0x13 | 0xa8e5 | 937 | L1 L2 | +--------------+----------------------+----------+----------+----------+------------+ LSP Count: 3 ---------------------------------------------------------------------------------------------------------------------------------- On cEOS device wan3(config-router-isis)#sh isis database IS-IS Instance: lab VRF: default IS-IS Level 1 Link State Database LSPID Seq Num Cksum Life IS Flags wan3.00-00 14 20104 466 L2 <> IS-IS Level 2 Link State Database LSPID Seq Num Cksum Life IS Flags wan1.00-00 30 27564 985 L2 <> wan2.00-00 76 53272 907 L2 <> wan3.00-00 19 43237 444 L2 <>","title":"ISIS database"},{"location":"SRL-Config/Protocols/BGP-SRL-cEOS/#routing-table","text":"on SRL devices A:wan1# show / network-instance default route-table all ---------------------------------------------------------------------------------------------------------------------------------- IPv4 Unicast route table of network instance default ---------------------------------------------------------------------------------------------------------------------------------- +-----------------------+------+-----------+----------------+--------+------+-------------------------------+--------------+ | Prefix | ID | Active | Owner | Metric | Pref | Next-hop (Type) | Next-hop | | | | | | | | | Interface | +=======================+======+===========+================+========+======+===============================+==============+ | 1.1.1.1/32 | 0 | true | host | 0 | 0 | None (extract) | None | | 1.1.1.2/32 | 0 | true | isis | 10 | 18 | 192.1.1.2 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 192.1.1.0/24 | 0 | true | local | 0 | 0 | 192.1.1.1 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 192.1.1.1/32 | 0 | true | host | 0 | 0 | None (extract) | None | | 192.1.1.255/32 | 0 | true | host | 0 | 0 | None (broadcast) | None | | 192.1.2.0/24 | 0 | true | isis | 20 | 18 | 192.1.1.2 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 192.1.3.0/24 | 0 | true | local | 0 | 0 | 192.1.3.1 (direct) | ethernet-1/2 | | | | | | | | | .1 | | 192.1.3.1/32 | 0 | true | host | 0 | 0 | None (extract) | None | | 192.1.3.255/32 | 0 | true | host | 0 | 0 | None (broadcast) | None | +-----------------------+------+-----------+----------------+--------+------+-------------------------------+--------------+ ---------------------------------------------------------------------------------------------------------------------------------- 9 IPv4 routes total 9 IPv4 prefixes with active routes 0 IPv4 prefixes with active ECMP routes ---------------------------------------------------------------------------------------------------------------------------------- ---------------------------------------------------------------------------------------------------------------------------------- IPv6 Unicast route table of network instance default ---------------------------------------------------------------------------------------------------------------------------------- +-----------------------+------+-----------+----------------+--------+------+-------------------------------+--------------+ | Prefix | ID | Active | Owner | Metric | Pref | Next-hop (Type) | Next-hop | | | | | | | | | Interface | +=======================+======+===========+================+========+======+===============================+==============+ | 2000:192:1::/64 | 0 | true | local | 0 | 0 | 2000:192:1::1 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 2000:192:1::1/128 | 0 | true | host | 0 | 0 | None (extract) | None | | 2000:192:2::/64 | 0 | true | isis | 20 | 18 | fe80::201:1ff:feff:0 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 2000:192:3::/64 | 0 | true | local | 0 | 0 | 2000:192:3::1 (direct) | ethernet-1/2 | | | | | | | | | .1 | | 2000:192:3::1/128 | 0 | true | host | 0 | 0 | None (extract) | None | | 3000::1/128 | 0 | true | host | 0 | 0 | None (extract) | None | | 3000::2/128 | 0 | true | isis | 10 | 18 | fe80::201:1ff:feff:0 (direct) | ethernet-1/1 | | | | | | | | | .1 | +-----------------------+------+-----------+----------------+--------+------+-------------------------------+--------------+ ---------------------------------------------------------------------------------------------------------------------------------- 7 IPv6 routes total 7 IPv6 prefixes with active routes 0 IPv6 prefixes with active ECMP routes ---------------------------------------------------------------------------------------------------------------------------------- on cEOS device wan3(config)#sh ip route VRF: default Codes: C - connected, S - static, K - kernel, O - OSPF, IA - OSPF inter area, E1 - OSPF external type 1, E2 - OSPF external type 2, N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type2, B - BGP, B I - iBGP, B E - eBGP, R - RIP, I L1 - IS-IS level 1, I L2 - IS-IS level 2, O3 - OSPFv3, A B - BGP Aggregate, A O - OSPF Summary, NG - Nexthop Group Static Route, V - VXLAN Control Service, DH - DHCP client installed default route, M - Martian, DP - Dynamic Policy Route, L - VRF Leaked, RC - Route Cache Route Gateway of last resort is not set I L2 1.1.1.1/32 [115/10] via 192.1.3.1, Ethernet2 I L2 1.1.1.2/32 [115/10] via 192.1.2.1, Ethernet1 I L2 192.1.1.0/24 [115/20] via 192.1.2.1, Ethernet1 via 192.1.3.1, Ethernet2 C 192.1.2.0/24 is directly connected, Ethernet1 C 192.1.3.0/24 is directly connected, Ethernet2 wan3(config)#sh ipv6 route VRF: default Displaying 5 of 11 IPv6 routing table entries Codes: C - connected, S - static, K - kernel, O3 - OSPFv3, B - BGP, R - RIP, A B - BGP Aggregate, I L1 - IS-IS level 1, I L2 - IS-IS level 2, DH - DHCP, NG - Nexthop Group Static Route, M - Martian, DP - Dynamic Policy Route, L - VRF Leaked, RC - Route Cache Route I L2 2000:192:1::/64 [115/20] via fe80::201:1ff:feff:1, Ethernet1 via fe80::201:ff:feff:1, Ethernet2 C 2000:192:2::/64 [0/1] via Ethernet1, directly connected C 2000:192:3::/64 [0/1] via Ethernet2, directly connected I L2 3000::1/128 [115/10] via fe80::201:ff:feff:1, Ethernet2 I L2 3000::2/128 [115/10] via fe80::201:1ff:feff:1, Ethernet1","title":"Routing table"},{"location":"SRL-Config/Protocols/ISIS-SRL-cEOS/","text":"Configuring ISIS between Nokia SRL and Arista cEOS This note describes how to setup isis between Nokia SRLinux and Arista cEOS. We use a triangle topology with 2 SRL and 1 cEOS device as an example WAN1 (SRL) (e1-1) -------(e1-1) WAN2 (SRL) (e1-2) (e1-2) | | +--(Et2) WAN3 (cEOS) (Et1)---+ We configure both IPv4 and IPv6 to show both address families working through ISIS Configuring interfaces First we have to configure the interfaces on the various devices WAN1 - SRL router Configure the interface on WAN1 to WAN2 SRL --{ running }--[ interface ethernet-1/1 ]-- A:wan1# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.1.1/24 { } } ipv6 { address 2000:192:1::1/64 { } } } Configure the interface on WAN1 to WAN3 cEOS --{ running }--[ interface ethernet-1/2 ]-- A:wan1# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.3.1/24 { } } ipv6 { address 2000:192:3::1/64 { } } } WAN2- SRL router Configure the interface on WAN2 to WAN1 SRL --{ running }--[ interface ethernet-1/1 ]-- A:wan2# info subinterface 1 { admin-state enable ipv4 { address 192.1.1.2/24 { } } ipv6 { address 2000:192:1::2/64 { } } } Configure the interface on WAN2 to WAN3 cEOS --{ running }--[ interface ethernet-1/2 ]-- A:wan2# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.2.1/24 { } } ipv6 { address 2000:192:2::1/64 { } } } WAN3 - cEOS router Configure the interface on WAN3 to WAN2 SRL interface Ethernet1 no switchport ip address 192.1.2.2/24 ipv6 address 2000:192:2::2/64 Configure the interface on WAN3 to WAN2 SRL interface Ethernet2 no switchport ip address 192.1.3.2/24 ipv6 address 2000:192:3::2/64 Configuring the router instance Before we can configure ISIS we should enable the router instance on the various devices. On SRL we create a network-instance, which is like a VRF-Lite and can be used for the global routing table. In cEOS we enable ip routing and ipv6 routing. WAN1 - SRL router --{ running }--[ network-instance default ]-- A:wan1# info type default admin-state enable interface ethernet-1/1.1 { } interface ethernet-1/2.1 { } interface lo1.1 { } WAN2- SRL router --{ running }--[ network-instance default ]-- A:wan2# info type default admin-state enable interface ethernet-1/1.1 { } interface ethernet-1/2.1 { } interface lo1.1 { } WAN3 - cEOS router ip routing ! ipv6 unicast-routing ! Configuring ISIS After the interfaces are configured we will configure an ISIS with level-L1-L2 capability between the various routers. WAN1 - SRL router On SRL we create a ISIS protocol instance lab --{ candidate private private-root }--[ network-instance default protocols ]-- A:wan1# isis instance lab After we configure the isis parameters like: admin-state: enables the isis instance interface configuration for ethernet1-1.1, ethernet1-2/1 and lo1.1 IPv4-unicast IPv6-unicast net: The NET is 8-20 octets long and consists of 3 parts: Area ID \u2014 A variable length field between 1 and 13 bytes. This includes the Authority and Format Identifier (AFI) as the most significant byte and the area ID. System ID \u2014 A 6-byte system identification. This value is not configurable. The system ID is derived from the system or router ID. Selector ID \u2014 A 1-byte selector identification that must contain zeros when configuring a NET. This value is not configurable. The selector ID is always 00. There are many more features supported by SRL which can be read in the configuration guides A:wan1# instance lab --{ running }--[ network-instance default protocols isis instance lab ]-- A:wan1# info admin-state enable net [ 49.0001.0001.0000.0000.00 ] ipv4-unicast { admin-state enable } ipv6-unicast { admin-state enable } interface ethernet-1/1.1 { admin-state enable circuit-type point-to-point } interface ethernet-1/2.1 { admin-state enable circuit-type point-to-point } interface lo1.1 { passive true } WAN2 - SRL router A similar configuration is setup on WAN2 router --{ running }--[ network-instance default protocols isis instance lab ]-- A:wan2# info admin-state enable net [ 49.0001.0002.0000.0000.00 ] ipv4-unicast { admin-state enable } ipv6-unicast { admin-state enable } interface ethernet-1/1.1 { admin-state enable circuit-type point-to-point } interface ethernet-1/2.1 { admin-state enable circuit-type point-to-point } interface lo1.1 { passive true } WAN3 - cEOS router On cEOS the configuration is slightly different, First we enable the isis instance with the specific net/system id and disable hello-padding router isis lab no hello padding net 49.0001.0003.0000.0000.00 log-adjacency-changes ! address-family ipv4 unicast ! address-family ipv6 unicast ! After we map the interfaces to the isis instance interface Ethernet1 no switchport ip address 192.1.2.2/24 ipv6 address 2000:192:2::2/64 isis enable lab isis network point-to-point ! interface Ethernet2 no switchport ip address 192.1.3.2/24 ipv6 address 2000:192:3::2/64 isis enable lab isis network point-to-point ! Viewing BGP state Now that we configured OSPF on the various devices we can look at the operational state of the various devices BGP neighbor On SRL devices On cEOS device Routing table on SRL devices on cEOS device Full cEOS config wan3(config-router-bgp)#sh running-config ! Command: show running-config ! device: wan3 (cEOSLab, EOS-4.24.2.1F-18613460.42421F (engineering build)) ! transceiver qsfp default-mode 4x10G ! service routing protocols model ribd ! agent Bfd shutdown agent PowerManager shutdown agent LedPolicy shutdown agent Thermostat shutdown agent PowerFuse shutdown agent StandbyCpld shutdown agent LicenseManager shutdown ! hostname wan3 ! spanning-tree mode mstp ! no aaa root ! interface Ethernet1 no switchport ip address 192.1.2.2/24 ipv6 address 2000:192:2::2/64 ! interface Ethernet2 no switchport ip address 192.1.3.2/24 ipv6 address 2000:192:3::2/64 ! ip routing ! ipv6 unicast-routing ! router bgp 300 neighbor 192.1.2.1 remote-as 200 neighbor 192.1.2.1 maximum-routes 12000 neighbor 192.1.3.1 remote-as 100 neighbor 192.1.3.1 maximum-routes 12000 ! end","title":"Configuring ISIS between Nokia SRL and Arista cEOS"},{"location":"SRL-Config/Protocols/ISIS-SRL-cEOS/#configuring-isis-between-nokia-srl-and-arista-ceos","text":"This note describes how to setup isis between Nokia SRLinux and Arista cEOS. We use a triangle topology with 2 SRL and 1 cEOS device as an example WAN1 (SRL) (e1-1) -------(e1-1) WAN2 (SRL) (e1-2) (e1-2) | | +--(Et2) WAN3 (cEOS) (Et1)---+ We configure both IPv4 and IPv6 to show both address families working through ISIS","title":"Configuring ISIS between Nokia SRL and Arista cEOS"},{"location":"SRL-Config/Protocols/ISIS-SRL-cEOS/#configuring-interfaces","text":"First we have to configure the interfaces on the various devices","title":"Configuring interfaces"},{"location":"SRL-Config/Protocols/ISIS-SRL-cEOS/#wan1-srl-router","text":"Configure the interface on WAN1 to WAN2 SRL --{ running }--[ interface ethernet-1/1 ]-- A:wan1# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.1.1/24 { } } ipv6 { address 2000:192:1::1/64 { } } } Configure the interface on WAN1 to WAN3 cEOS --{ running }--[ interface ethernet-1/2 ]-- A:wan1# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.3.1/24 { } } ipv6 { address 2000:192:3::1/64 { } } }","title":"WAN1 - SRL router"},{"location":"SRL-Config/Protocols/ISIS-SRL-cEOS/#wan2-srl-router","text":"Configure the interface on WAN2 to WAN1 SRL --{ running }--[ interface ethernet-1/1 ]-- A:wan2# info subinterface 1 { admin-state enable ipv4 { address 192.1.1.2/24 { } } ipv6 { address 2000:192:1::2/64 { } } } Configure the interface on WAN2 to WAN3 cEOS --{ running }--[ interface ethernet-1/2 ]-- A:wan2# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.2.1/24 { } } ipv6 { address 2000:192:2::1/64 { } } }","title":"WAN2- SRL router"},{"location":"SRL-Config/Protocols/ISIS-SRL-cEOS/#wan3-ceos-router","text":"Configure the interface on WAN3 to WAN2 SRL interface Ethernet1 no switchport ip address 192.1.2.2/24 ipv6 address 2000:192:2::2/64 Configure the interface on WAN3 to WAN2 SRL interface Ethernet2 no switchport ip address 192.1.3.2/24 ipv6 address 2000:192:3::2/64","title":"WAN3 - cEOS router"},{"location":"SRL-Config/Protocols/ISIS-SRL-cEOS/#configuring-the-router-instance","text":"Before we can configure ISIS we should enable the router instance on the various devices. On SRL we create a network-instance, which is like a VRF-Lite and can be used for the global routing table. In cEOS we enable ip routing and ipv6 routing.","title":"Configuring the router instance"},{"location":"SRL-Config/Protocols/ISIS-SRL-cEOS/#wan1-srl-router_1","text":"--{ running }--[ network-instance default ]-- A:wan1# info type default admin-state enable interface ethernet-1/1.1 { } interface ethernet-1/2.1 { } interface lo1.1 { }","title":"WAN1 - SRL router"},{"location":"SRL-Config/Protocols/ISIS-SRL-cEOS/#wan2-srl-router_1","text":"--{ running }--[ network-instance default ]-- A:wan2# info type default admin-state enable interface ethernet-1/1.1 { } interface ethernet-1/2.1 { } interface lo1.1 { }","title":"WAN2- SRL router"},{"location":"SRL-Config/Protocols/ISIS-SRL-cEOS/#wan3-ceos-router_1","text":"ip routing ! ipv6 unicast-routing !","title":"WAN3 - cEOS router"},{"location":"SRL-Config/Protocols/ISIS-SRL-cEOS/#configuring-isis","text":"After the interfaces are configured we will configure an ISIS with level-L1-L2 capability between the various routers.","title":"Configuring ISIS"},{"location":"SRL-Config/Protocols/ISIS-SRL-cEOS/#wan1-srl-router_2","text":"On SRL we create a ISIS protocol instance lab --{ candidate private private-root }--[ network-instance default protocols ]-- A:wan1# isis instance lab After we configure the isis parameters like: admin-state: enables the isis instance interface configuration for ethernet1-1.1, ethernet1-2/1 and lo1.1 IPv4-unicast IPv6-unicast net: The NET is 8-20 octets long and consists of 3 parts: Area ID \u2014 A variable length field between 1 and 13 bytes. This includes the Authority and Format Identifier (AFI) as the most significant byte and the area ID. System ID \u2014 A 6-byte system identification. This value is not configurable. The system ID is derived from the system or router ID. Selector ID \u2014 A 1-byte selector identification that must contain zeros when configuring a NET. This value is not configurable. The selector ID is always 00. There are many more features supported by SRL which can be read in the configuration guides A:wan1# instance lab --{ running }--[ network-instance default protocols isis instance lab ]-- A:wan1# info admin-state enable net [ 49.0001.0001.0000.0000.00 ] ipv4-unicast { admin-state enable } ipv6-unicast { admin-state enable } interface ethernet-1/1.1 { admin-state enable circuit-type point-to-point } interface ethernet-1/2.1 { admin-state enable circuit-type point-to-point } interface lo1.1 { passive true }","title":"WAN1 - SRL router"},{"location":"SRL-Config/Protocols/ISIS-SRL-cEOS/#wan2-srl-router_2","text":"A similar configuration is setup on WAN2 router --{ running }--[ network-instance default protocols isis instance lab ]-- A:wan2# info admin-state enable net [ 49.0001.0002.0000.0000.00 ] ipv4-unicast { admin-state enable } ipv6-unicast { admin-state enable } interface ethernet-1/1.1 { admin-state enable circuit-type point-to-point } interface ethernet-1/2.1 { admin-state enable circuit-type point-to-point } interface lo1.1 { passive true }","title":"WAN2 - SRL router"},{"location":"SRL-Config/Protocols/ISIS-SRL-cEOS/#wan3-ceos-router_2","text":"On cEOS the configuration is slightly different, First we enable the isis instance with the specific net/system id and disable hello-padding router isis lab no hello padding net 49.0001.0003.0000.0000.00 log-adjacency-changes ! address-family ipv4 unicast ! address-family ipv6 unicast ! After we map the interfaces to the isis instance interface Ethernet1 no switchport ip address 192.1.2.2/24 ipv6 address 2000:192:2::2/64 isis enable lab isis network point-to-point ! interface Ethernet2 no switchport ip address 192.1.3.2/24 ipv6 address 2000:192:3::2/64 isis enable lab isis network point-to-point !","title":"WAN3 - cEOS router"},{"location":"SRL-Config/Protocols/ISIS-SRL-cEOS/#viewing-bgp-state","text":"Now that we configured OSPF on the various devices we can look at the operational state of the various devices","title":"Viewing BGP state"},{"location":"SRL-Config/Protocols/ISIS-SRL-cEOS/#bgp-neighbor","text":"On SRL devices On cEOS device","title":"BGP neighbor"},{"location":"SRL-Config/Protocols/ISIS-SRL-cEOS/#routing-table","text":"on SRL devices on cEOS device","title":"Routing table"},{"location":"SRL-Config/Protocols/ISIS-SRL-cEOS/#full-ceos-config","text":"wan3(config-router-bgp)#sh running-config ! Command: show running-config ! device: wan3 (cEOSLab, EOS-4.24.2.1F-18613460.42421F (engineering build)) ! transceiver qsfp default-mode 4x10G ! service routing protocols model ribd ! agent Bfd shutdown agent PowerManager shutdown agent LedPolicy shutdown agent Thermostat shutdown agent PowerFuse shutdown agent StandbyCpld shutdown agent LicenseManager shutdown ! hostname wan3 ! spanning-tree mode mstp ! no aaa root ! interface Ethernet1 no switchport ip address 192.1.2.2/24 ipv6 address 2000:192:2::2/64 ! interface Ethernet2 no switchport ip address 192.1.3.2/24 ipv6 address 2000:192:3::2/64 ! ip routing ! ipv6 unicast-routing ! router bgp 300 neighbor 192.1.2.1 remote-as 200 neighbor 192.1.2.1 maximum-routes 12000 neighbor 192.1.3.1 remote-as 100 neighbor 192.1.3.1 maximum-routes 12000 ! end","title":"Full cEOS config"},{"location":"SRL-Config/Protocols/OSPF-SRL-cEOS/","text":"Configuring OSPF between Nokia SRL and Arista cEOS This note describes how to setup ospf between Nokia SRLinux and Arista cEOS. We use a triangle topology with 2 SRL and 1 cEOS device as an example WAN1 (SRL) (e1-1) -------(e1-1) WAN2 (SRL) (e1-2) (e1-2) | | +--(Et2) WAN3 (cEOS) (Et1)---+ Configuring interfaces First we have to configure the interfaces on the various devices WAN1 - SRL router Configure the interface on WAN1 to WAN2 SRL --{ running }--[ interface ethernet-1/1 ]-- A:wan1# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.1.1/24 { } } } Configure the interface on WAN1 to WAN3 cEOS --{ running }--[ interface ethernet-1/2 ]-- A:wan1# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.3.1/24 { } } } WAN2- SRL router Configure the interface on WAN2 to WAN1 SRL --{ running }--[ interface ethernet-1/1 ]-- A:wan2# info subinterface 1 { admin-state enable ipv4 { address 192.1.1.2/24 { } } } --{ running }--[ interface ethernet-1/1 ]-- Configure the interface on WAN2 to WAN3 cEOS --{ running }--[ interface ethernet-1/2 ]-- A:wan2# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.2.1/24 { } } } WAN3 - cEOS router Configure the interface on WAN3 to WAN2 SRL interface Ethernet1 no switchport ip address 192.1.2.2/24 ! Configure the interface on WAN3 to WAN2 SRL interface Ethernet1 no switchport ip address 192.1.2.2/24 ! Configuring the router instance Before we can configure OSPF we should enable the router instance on the various devices. On SRL we create a network-instance, which is like a VRF-Lite and can be used for the global routing table. In cEOS we enable ip routing. WAN1 - SRL router --{ running }--[ network-instance default ]-- A:wan1# info type default admin-state enable interface ethernet-1/1.1 { } interface ethernet-1/2.1 { } interface lo1.1 { } WAN2- SRL router --{ running }--[ network-instance default ]-- A:wan2# info type default admin-state enable interface ethernet-1/1.1 { } interface ethernet-1/2.1 { } interface lo1.1 { } WAN3 - cEOS router ip routing Configuring OSPF After the interfaces are configured we will configure an OSPF Backbone area 0.0.0.0 between the various routers. WAN1 - SRL router On SRL we create a OSPF protocol instance --{ running }--[ network-instance default ]-- A:wan1# protocols ospf instance lab After we configure the ospf parameters like: admin-state: enables the ospf instance version: allows to select the OSPF version OSPFv2 or OSPFv3 router-id: typically setup using the system loopback of the router, which is the same ip address as configured on lo0.1 area: here we use area 0.0.0.0 with its interfaces There are many more features supported by SRL which can be read in the configuration guides --{ running }--[ network-instance default protocols ospf instance lab ]-- A:wan1# info admin-state enable version OSPF_V2 router-id 10.1.1.1 area 0.0.0.0 { interface ethernet-1/1.1 { admin-state enable interface-type point-to-point } interface ethernet-1/2.1 { admin-state enable interface-type point-to-point } interface lo1.1 { admin-state enable passive true } } WAN2 - SRL router A similar configuration is setup on WAN2 router --{ running }--[ network-instance default protocols ospf instance lab ]-- A:wan2# info admin-state enable version OSPF_V2 router-id 10.1.1.2 area 0.0.0.0 { interface ethernet-1/1.1 { admin-state enable interface-type point-to-point } interface ethernet-1/2.1 { admin-state enable interface-type point-to-point } interface lo1.1 { admin-state enable passive true } } WAN3 - cEOS router On cEOS the configuration is slightly different, First we enable the ospf instance router ospf 1 router-id 10.1.1.3 max-lsa 12000 ! After we map the interfaces to the backbone area interface Ethernet1 no switchport ip address 192.1.2.2/24 ip ospf network point-to-point ip ospf area 0.0.0.0 ! interface Ethernet2 no switchport ip address 192.1.3.2/24 ip ospf network point-to-point ip ospf area 0.0.0.0 ! Viewing OSPF state Now that we configured OSPF on the various devices we can look at the operational state of the various devices OSPF neighbors On SRL devices --{ running }--[ network-instance default protocols ospf instance lab ]-- A:wan1# show ospf lab neighbor =================================================================================================================================== Net-Inst default OSPFv2 Instance lab Neighbors =================================================================================================================================== +--------------------------------------------------------------------+ | Interface-Name Rtr Id State Pri RetxQ Time Before Dead | +====================================================================+ | ethernet-1/1.1 10.1.1.2 FULL 1 0 39 | | ethernet-1/2.1 10.1.1.3 FULL 0 0 36 | +--------------------------------------------------------------------+ ----------------------------------------------------------------------------------------------------------------------------------- No. of Neighbors: 2 =================================================================================================================================== On cEOS device wan3(config-if-Et1)#sh ip ospf 1 neighbor Neighbor ID Instance VRF Pri State Dead Time Address Interface % Internal error % To see the details of this error, run the command 'show error 6' OSPF database On SRL command not yet available On cEOS wan3(config-if-Et1)#sh ip ospf 1 database OSPF Router with ID(10.1.1.3) (Instance ID 1) (VRF default) Router Link States (Area 0.0.0.0) Link ID ADV Router Age Seq# Checksum Link count 255.255.255.255 255.255.255.255 3107 0x8000000d 0x6e67 5 10.1.1.2 10.1.1.2 805 0x80000014 0x3d75 5 10.1.1.1 10.1.1.1 1087 0x80000014 0xf1c1 5 Routing table on SRL A:wan1# show / network-instance default route-table all ----------------------------------------------------------------------------------------------------------------------------------- IPv4 Unicast route table of network instance default ----------------------------------------------------------------------------------------------------------------------------------- +-----------------------+------+-----------+----------------+--------+------+--------------------------------+--------------+ | Prefix | ID | Active | Owner | Metric | Pref | Next-hop (Type) | Next-hop | | | | | | | | | Interface | +=======================+======+===========+================+========+======+================================+==============+ | 1.1.1.1/32 | 0 | true | host | 0 | 0 | None (extract) | None | | 1.1.1.2/32 | 0 | true | ospfv2 | 1 | 10 | 192.1.1.2 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 192.1.1.0/24 | 0 | true | local | 0 | 0 | 192.1.1.1 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 192.1.1.1/32 | 0 | true | host | 0 | 0 | None (extract) | None | | 192.1.1.255/32 | 0 | true | host | 0 | 0 | None (broadcast) | None | | 192.1.2.0/24 | 0 | true | ospfv2 | 2 | 10 | 192.1.1.2 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 192.1.3.0/24 | 0 | true | local | 0 | 0 | 192.1.3.1 (direct) | ethernet-1/2 | | | | | | | | | .1 | | 192.1.3.1/32 | 0 | true | host | 0 | 0 | None (extract) | None | | 192.1.3.255/32 | 0 | true | host | 0 | 0 | None (broadcast) | None | +-----------------------+------+-----------+----------------+--------+------+--------------------------------+--------------+ ----------------------------------------------------------------------------------------------------------------------------------- 9 IPv4 routes total 9 IPv4 prefixes with active routes 0 IPv4 prefixes with active ECMP routes ------------------------------------------------------------------------------------------------------ on cEOS wan3(config-if-Et1)#sh ip route VRF: default Codes: C - connected, S - static, K - kernel, O - OSPF, IA - OSPF inter area, E1 - OSPF external type 1, E2 - OSPF external type 2, N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type2, B - BGP, B I - iBGP, B E - eBGP, R - RIP, I L1 - IS-IS level 1, I L2 - IS-IS level 2, O3 - OSPFv3, A B - BGP Aggregate, A O - OSPF Summary, NG - Nexthop Group Static Route, V - VXLAN Control Service, DH - DHCP client installed default route, M - Martian, DP - Dynamic Policy Route, L - VRF Leaked, RC - Route Cache Route Gateway of last resort is not set O 1.1.1.1/32 [110/10] via 192.1.3.1, Ethernet2 O 1.1.1.2/32 [110/10] via 192.1.2.1, Ethernet1 O 192.1.1.0/24 [110/11] via 192.1.2.1, Ethernet1 via 192.1.3.1, Ethernet2 C 192.1.2.0/24 is directly connected, Ethernet1 C 192.1.3.0/24 is directly connected, Ethernet2","title":"Configuring OSPF between Nokia SRL and Arista cEOS"},{"location":"SRL-Config/Protocols/OSPF-SRL-cEOS/#configuring-ospf-between-nokia-srl-and-arista-ceos","text":"This note describes how to setup ospf between Nokia SRLinux and Arista cEOS. We use a triangle topology with 2 SRL and 1 cEOS device as an example WAN1 (SRL) (e1-1) -------(e1-1) WAN2 (SRL) (e1-2) (e1-2) | | +--(Et2) WAN3 (cEOS) (Et1)---+","title":"Configuring OSPF between Nokia SRL and Arista cEOS"},{"location":"SRL-Config/Protocols/OSPF-SRL-cEOS/#configuring-interfaces","text":"First we have to configure the interfaces on the various devices","title":"Configuring interfaces"},{"location":"SRL-Config/Protocols/OSPF-SRL-cEOS/#wan1-srl-router","text":"Configure the interface on WAN1 to WAN2 SRL --{ running }--[ interface ethernet-1/1 ]-- A:wan1# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.1.1/24 { } } } Configure the interface on WAN1 to WAN3 cEOS --{ running }--[ interface ethernet-1/2 ]-- A:wan1# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.3.1/24 { } } }","title":"WAN1 - SRL router"},{"location":"SRL-Config/Protocols/OSPF-SRL-cEOS/#wan2-srl-router","text":"Configure the interface on WAN2 to WAN1 SRL --{ running }--[ interface ethernet-1/1 ]-- A:wan2# info subinterface 1 { admin-state enable ipv4 { address 192.1.1.2/24 { } } } --{ running }--[ interface ethernet-1/1 ]-- Configure the interface on WAN2 to WAN3 cEOS --{ running }--[ interface ethernet-1/2 ]-- A:wan2# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.2.1/24 { } } }","title":"WAN2- SRL router"},{"location":"SRL-Config/Protocols/OSPF-SRL-cEOS/#wan3-ceos-router","text":"Configure the interface on WAN3 to WAN2 SRL interface Ethernet1 no switchport ip address 192.1.2.2/24 ! Configure the interface on WAN3 to WAN2 SRL interface Ethernet1 no switchport ip address 192.1.2.2/24 !","title":"WAN3 - cEOS router"},{"location":"SRL-Config/Protocols/OSPF-SRL-cEOS/#configuring-the-router-instance","text":"Before we can configure OSPF we should enable the router instance on the various devices. On SRL we create a network-instance, which is like a VRF-Lite and can be used for the global routing table. In cEOS we enable ip routing.","title":"Configuring the router instance"},{"location":"SRL-Config/Protocols/OSPF-SRL-cEOS/#wan1-srl-router_1","text":"--{ running }--[ network-instance default ]-- A:wan1# info type default admin-state enable interface ethernet-1/1.1 { } interface ethernet-1/2.1 { } interface lo1.1 { }","title":"WAN1 - SRL router"},{"location":"SRL-Config/Protocols/OSPF-SRL-cEOS/#wan2-srl-router_1","text":"--{ running }--[ network-instance default ]-- A:wan2# info type default admin-state enable interface ethernet-1/1.1 { } interface ethernet-1/2.1 { } interface lo1.1 { }","title":"WAN2- SRL router"},{"location":"SRL-Config/Protocols/OSPF-SRL-cEOS/#wan3-ceos-router_1","text":"ip routing","title":"WAN3 - cEOS router"},{"location":"SRL-Config/Protocols/OSPF-SRL-cEOS/#configuring-ospf","text":"After the interfaces are configured we will configure an OSPF Backbone area 0.0.0.0 between the various routers.","title":"Configuring OSPF"},{"location":"SRL-Config/Protocols/OSPF-SRL-cEOS/#wan1-srl-router_2","text":"On SRL we create a OSPF protocol instance --{ running }--[ network-instance default ]-- A:wan1# protocols ospf instance lab After we configure the ospf parameters like: admin-state: enables the ospf instance version: allows to select the OSPF version OSPFv2 or OSPFv3 router-id: typically setup using the system loopback of the router, which is the same ip address as configured on lo0.1 area: here we use area 0.0.0.0 with its interfaces There are many more features supported by SRL which can be read in the configuration guides --{ running }--[ network-instance default protocols ospf instance lab ]-- A:wan1# info admin-state enable version OSPF_V2 router-id 10.1.1.1 area 0.0.0.0 { interface ethernet-1/1.1 { admin-state enable interface-type point-to-point } interface ethernet-1/2.1 { admin-state enable interface-type point-to-point } interface lo1.1 { admin-state enable passive true } }","title":"WAN1 - SRL router"},{"location":"SRL-Config/Protocols/OSPF-SRL-cEOS/#wan2-srl-router_2","text":"A similar configuration is setup on WAN2 router --{ running }--[ network-instance default protocols ospf instance lab ]-- A:wan2# info admin-state enable version OSPF_V2 router-id 10.1.1.2 area 0.0.0.0 { interface ethernet-1/1.1 { admin-state enable interface-type point-to-point } interface ethernet-1/2.1 { admin-state enable interface-type point-to-point } interface lo1.1 { admin-state enable passive true } }","title":"WAN2 - SRL router"},{"location":"SRL-Config/Protocols/OSPF-SRL-cEOS/#wan3-ceos-router_2","text":"On cEOS the configuration is slightly different, First we enable the ospf instance router ospf 1 router-id 10.1.1.3 max-lsa 12000 ! After we map the interfaces to the backbone area interface Ethernet1 no switchport ip address 192.1.2.2/24 ip ospf network point-to-point ip ospf area 0.0.0.0 ! interface Ethernet2 no switchport ip address 192.1.3.2/24 ip ospf network point-to-point ip ospf area 0.0.0.0 !","title":"WAN3 - cEOS router"},{"location":"SRL-Config/Protocols/OSPF-SRL-cEOS/#viewing-ospf-state","text":"Now that we configured OSPF on the various devices we can look at the operational state of the various devices","title":"Viewing OSPF state"},{"location":"SRL-Config/Protocols/OSPF-SRL-cEOS/#ospf-neighbors","text":"On SRL devices --{ running }--[ network-instance default protocols ospf instance lab ]-- A:wan1# show ospf lab neighbor =================================================================================================================================== Net-Inst default OSPFv2 Instance lab Neighbors =================================================================================================================================== +--------------------------------------------------------------------+ | Interface-Name Rtr Id State Pri RetxQ Time Before Dead | +====================================================================+ | ethernet-1/1.1 10.1.1.2 FULL 1 0 39 | | ethernet-1/2.1 10.1.1.3 FULL 0 0 36 | +--------------------------------------------------------------------+ ----------------------------------------------------------------------------------------------------------------------------------- No. of Neighbors: 2 =================================================================================================================================== On cEOS device wan3(config-if-Et1)#sh ip ospf 1 neighbor Neighbor ID Instance VRF Pri State Dead Time Address Interface % Internal error % To see the details of this error, run the command 'show error 6'","title":"OSPF neighbors"},{"location":"SRL-Config/Protocols/OSPF-SRL-cEOS/#ospf-database","text":"On SRL command not yet available On cEOS wan3(config-if-Et1)#sh ip ospf 1 database OSPF Router with ID(10.1.1.3) (Instance ID 1) (VRF default) Router Link States (Area 0.0.0.0) Link ID ADV Router Age Seq# Checksum Link count 255.255.255.255 255.255.255.255 3107 0x8000000d 0x6e67 5 10.1.1.2 10.1.1.2 805 0x80000014 0x3d75 5 10.1.1.1 10.1.1.1 1087 0x80000014 0xf1c1 5","title":"OSPF database"},{"location":"SRL-Config/Protocols/OSPF-SRL-cEOS/#routing-table","text":"on SRL A:wan1# show / network-instance default route-table all ----------------------------------------------------------------------------------------------------------------------------------- IPv4 Unicast route table of network instance default ----------------------------------------------------------------------------------------------------------------------------------- +-----------------------+------+-----------+----------------+--------+------+--------------------------------+--------------+ | Prefix | ID | Active | Owner | Metric | Pref | Next-hop (Type) | Next-hop | | | | | | | | | Interface | +=======================+======+===========+================+========+======+================================+==============+ | 1.1.1.1/32 | 0 | true | host | 0 | 0 | None (extract) | None | | 1.1.1.2/32 | 0 | true | ospfv2 | 1 | 10 | 192.1.1.2 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 192.1.1.0/24 | 0 | true | local | 0 | 0 | 192.1.1.1 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 192.1.1.1/32 | 0 | true | host | 0 | 0 | None (extract) | None | | 192.1.1.255/32 | 0 | true | host | 0 | 0 | None (broadcast) | None | | 192.1.2.0/24 | 0 | true | ospfv2 | 2 | 10 | 192.1.1.2 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 192.1.3.0/24 | 0 | true | local | 0 | 0 | 192.1.3.1 (direct) | ethernet-1/2 | | | | | | | | | .1 | | 192.1.3.1/32 | 0 | true | host | 0 | 0 | None (extract) | None | | 192.1.3.255/32 | 0 | true | host | 0 | 0 | None (broadcast) | None | +-----------------------+------+-----------+----------------+--------+------+--------------------------------+--------------+ ----------------------------------------------------------------------------------------------------------------------------------- 9 IPv4 routes total 9 IPv4 prefixes with active routes 0 IPv4 prefixes with active ECMP routes ------------------------------------------------------------------------------------------------------ on cEOS wan3(config-if-Et1)#sh ip route VRF: default Codes: C - connected, S - static, K - kernel, O - OSPF, IA - OSPF inter area, E1 - OSPF external type 1, E2 - OSPF external type 2, N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type2, B - BGP, B I - iBGP, B E - eBGP, R - RIP, I L1 - IS-IS level 1, I L2 - IS-IS level 2, O3 - OSPFv3, A B - BGP Aggregate, A O - OSPF Summary, NG - Nexthop Group Static Route, V - VXLAN Control Service, DH - DHCP client installed default route, M - Martian, DP - Dynamic Policy Route, L - VRF Leaked, RC - Route Cache Route Gateway of last resort is not set O 1.1.1.1/32 [110/10] via 192.1.3.1, Ethernet2 O 1.1.1.2/32 [110/10] via 192.1.2.1, Ethernet1 O 192.1.1.0/24 [110/11] via 192.1.2.1, Ethernet1 via 192.1.3.1, Ethernet2 C 192.1.2.0/24 is directly connected, Ethernet1 C 192.1.3.0/24 is directly connected, Ethernet2","title":"Routing table"},{"location":"SRL-Config/Protocols/OSPFv3-SRL-cEOS/","text":"Configuring OSPFv3 between Nokia SRL and Arista cEOS This note describes how to setup ospfv3 between Nokia SRLinux and Arista cEOS. We use a triangle topology with 2 SRL and 1 cEOS device as an example WAN1 (SRL) (e1-1) -------(e1-1) WAN2 (SRL) (e1-2) (e1-2) | | +--(Et2) WAN3 (cEOS) (Et1)---+ We configure both IPv4 and IPv6 to show both address families working through OSPFv3 Configuring interfaces First we have to configure the interfaces on the various devices WAN1 - SRL router Configure the interface on WAN1 to WAN2 SRL --{ running }--[ interface ethernet-1/1 ]-- A:wan1# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.1.1/24 { } } ipv6 { address 2000:192:1::1/64 { } } } Configure the interface on WAN1 to WAN3 cEOS --{ running }--[ interface ethernet-1/2 ]-- A:wan1# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.3.1/24 { } } ipv6 { address 2000:192:3::1/64 { } } } WAN2- SRL router Configure the interface on WAN2 to WAN1 SRL --{ running }--[ interface ethernet-1/1 ]-- A:wan2# info subinterface 1 { admin-state enable ipv4 { address 192.1.1.2/24 { } } ipv6 { address 2000:192:1::2/64 { } } } Configure the interface on WAN2 to WAN3 cEOS --{ running }--[ interface ethernet-1/2 ]-- A:wan2# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.2.1/24 { } } ipv6 { address 2000:192:2::1/64 { } } } WAN3 - cEOS router Configure the interface on WAN3 to WAN2 SRL interface Ethernet1 no switchport ip address 192.1.2.2/24 ipv6 address 2000:192:2::2/64 Configure the interface on WAN3 to WAN2 SRL interface Ethernet2 no switchport ip address 192.1.3.2/24 ipv6 address 2000:192:3::2/64 Configuring the router instance Before we can configure OSPFv3 we should enable the router instance on the various devices. On SRL we create a network-instance, which is like a VRF-Lite and can be used for the global routing table. In cEOS we enable ip routing and ipv6 routing WAN1 - SRL router --{ running }--[ network-instance default ]-- A:wan1# info type default admin-state enable interface ethernet-1/1.1 { } interface ethernet-1/2.1 { } interface lo1.1 { } WAN2- SRL router --{ running }--[ network-instance default ]-- A:wan2# info type default admin-state enable interface ethernet-1/1.1 { } interface ethernet-1/2.1 { } interface lo1.1 { } WAN3 - cEOS router ip routing ! ipv6 unicast-routing ! Configuring OSPFv3 After the interfaces are configured we will configure an OSPFv3 Backbone area 0.0.0.0 between the various routers. WAN1 - SRL router On SRL we create a OSPFv3 protocol instance --{ running }--[ network-instance default ]-- A:wan1# protocols ospf instance lab After we configure the ospf parameters like: admin-state: enables the ospf instance version: allows to select the OSPF version OSPFv2 or OSPFv3 address-family: IPV4_UNICAST or IPV6_UNICAST router-id: typically setup using the system loopback of the router, which is the same ip address as configured on lo0.1 area: here we use area 0.0.0.0 with its interfaces There are many more features supported by SRL which can be read in the configuration guides --{ running }--[ network-instance default protocols ospf instance lab ]-- A:wan1# info admin-state enable version OSPF_V3 address-family IPV4_UNICAST router-id 1.1.1.1 area 0.0.0.0 { interface ethernet-1/1.1 { admin-state enable interface-type point-to-point } interface ethernet-1/2.1 { admin-state enable interface-type point-to-point } interface lo1.1 { admin-state enable passive true } } WAN2 - SRL router A similar configuration is setup on WAN2 router --{ running }--[ network-instance default protocols ospf instance lab ]-- A:wan2# info admin-state enable version OSPF_V3 address-family IPV4_UNICAST router-id 1.1.1.2 area 0.0.0.0 { interface ethernet-1/1.1 { admin-state enable interface-type point-to-point } interface ethernet-1/2.1 { admin-state enable interface-type point-to-point } interface lo1.1 { admin-state enable passive true } } WAN3 - cEOS router On cEOS the configuration is slightly different, First we enable the isis instance with the specific net/system id and disable hello-padding router isis lab no hello padding net 49.0001.0003.0000.0000.00 log-adjacency-changes ! address-family ipv4 unicast ! address-family ipv6 unicast ! After we map the interfaces to the isis instance interface Ethernet1 no switchport ip address 192.1.2.2/24 ipv6 address 2000:192:2::2/64 isis enable lab isis network point-to-point ! interface Ethernet2 no switchport ip address 192.1.3.2/24 ipv6 address 2000:192:3::2/64 isis enable lab isis network point-to-point ! Viewing ISIS state Now that we configured OSPF on the various devices we can look at the operational state of the various devices ISIS adjacency On SRL devices A:wan1# show / network-instance default protocols isis adjacency Network Instance: default Instance : lab +------------------+-----------------+----------------+------------+-----------------+-------+-----------------+-----------------+ | Neighbor System | Adjacency Level | Interface Name | Ip Address | Ipv6 Address | State | Last transition | Remaining | | Id | | | | | | | holdtime | +==================+=================+================+============+=================+=======+=================+=================+ | 0002.0000.0000 | L2 | ethernet-1/1.1 | 192.1.1.2 | fe80::201:1ff:f | up | 2020-08-30T16:3 | 22 | | | | | | eff:0 | | 4:10.100Z | | +------------------+-----------------+----------------+------------+-----------------+-------+-----------------+-----------------+ +------------------+-----------------+----------------+------------+-----------------+-------+-----------------+-----------------+ | Neighbor System | Adjacency Level | Interface Name | Ip Address | Ipv6 Address | State | Last transition | Remaining | | Id | | | | | | | holdtime | +==================+=================+================+============+=================+=======+=================+=================+ | 0003.0000.0000 | L1L2 | ethernet-1/2.1 | 192.1.3.2 | fe80::44f4:d4ff | up | 2020-08-30T16:3 | 22 | | | | | | :fec9:1af1 | | 4:20.500Z | | +------------------+-----------------+----------------+------------+-----------------+-------+-----------------+-----------------+ +-------------------+-----------------+----------------+------------+--------------+-------+-----------------+-------------------+ | Neighbor System | Adjacency Level | Interface Name | Ip Address | Ipv6 Address | State | Last transition | Remaining | | Id | | | | | | | holdtime | +===================+=================+================+============+==============+=======+=================+===================+ +-------------------+-----------------+----------------+------------+--------------+-------+-----------------+-------------------+ Adjacency Count: 2 ================================================================================================================================== On cEOS device ISIS database On SRL devices A:wan1# show / network-instance default protocols isis database ---------------------------------------------------------------------------------------------------------------------------------- Network Instance: default Instance : lab +--------------+----------------------+----------+----------+----------+------------+ | Level Number | Lsp Id | Sequence | Checksum | Lifetime | Attributes | +==============+======================+==========+==========+==========+============+ | 2 | 0001.0000.0000.00-00 | 0x1d | 0x6dab | 834 | L1 L2 | | 2 | 0002.0000.0000.00-00 | 0x4b | 0xd217 | 809 | L1 L2 | | 2 | 0003.0000.0000.00-00 | 0x13 | 0xa8e5 | 937 | L1 L2 | +--------------+----------------------+----------+----------+----------+------------+ LSP Count: 3 ---------------------------------------------------------------------------------------------------------------------------------- On cEOS device wan3(config-router-isis)#sh isis database IS-IS Instance: lab VRF: default IS-IS Level 1 Link State Database LSPID Seq Num Cksum Life IS Flags wan3.00-00 14 20104 466 L2 <> IS-IS Level 2 Link State Database LSPID Seq Num Cksum Life IS Flags wan1.00-00 30 27564 985 L2 <> wan2.00-00 76 53272 907 L2 <> wan3.00-00 19 43237 444 L2 <> Routing table on SRL devices A:wan1# show / network-instance default route-table all ---------------------------------------------------------------------------------------------------------------------------------- IPv4 Unicast route table of network instance default ---------------------------------------------------------------------------------------------------------------------------------- +-----------------------+------+-----------+----------------+--------+------+-------------------------------+--------------+ | Prefix | ID | Active | Owner | Metric | Pref | Next-hop (Type) | Next-hop | | | | | | | | | Interface | +=======================+======+===========+================+========+======+===============================+==============+ | 1.1.1.1/32 | 0 | true | host | 0 | 0 | None (extract) | None | | 1.1.1.2/32 | 0 | true | isis | 10 | 18 | 192.1.1.2 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 192.1.1.0/24 | 0 | true | local | 0 | 0 | 192.1.1.1 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 192.1.1.1/32 | 0 | true | host | 0 | 0 | None (extract) | None | | 192.1.1.255/32 | 0 | true | host | 0 | 0 | None (broadcast) | None | | 192.1.2.0/24 | 0 | true | isis | 20 | 18 | 192.1.1.2 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 192.1.3.0/24 | 0 | true | local | 0 | 0 | 192.1.3.1 (direct) | ethernet-1/2 | | | | | | | | | .1 | | 192.1.3.1/32 | 0 | true | host | 0 | 0 | None (extract) | None | | 192.1.3.255/32 | 0 | true | host | 0 | 0 | None (broadcast) | None | +-----------------------+------+-----------+----------------+--------+------+-------------------------------+--------------+ ---------------------------------------------------------------------------------------------------------------------------------- 9 IPv4 routes total 9 IPv4 prefixes with active routes 0 IPv4 prefixes with active ECMP routes ---------------------------------------------------------------------------------------------------------------------------------- ---------------------------------------------------------------------------------------------------------------------------------- IPv6 Unicast route table of network instance default ---------------------------------------------------------------------------------------------------------------------------------- +-----------------------+------+-----------+----------------+--------+------+-------------------------------+--------------+ | Prefix | ID | Active | Owner | Metric | Pref | Next-hop (Type) | Next-hop | | | | | | | | | Interface | +=======================+======+===========+================+========+======+===============================+==============+ | 2000:192:1::/64 | 0 | true | local | 0 | 0 | 2000:192:1::1 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 2000:192:1::1/128 | 0 | true | host | 0 | 0 | None (extract) | None | | 2000:192:2::/64 | 0 | true | isis | 20 | 18 | fe80::201:1ff:feff:0 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 2000:192:3::/64 | 0 | true | local | 0 | 0 | 2000:192:3::1 (direct) | ethernet-1/2 | | | | | | | | | .1 | | 2000:192:3::1/128 | 0 | true | host | 0 | 0 | None (extract) | None | | 3000::1/128 | 0 | true | host | 0 | 0 | None (extract) | None | | 3000::2/128 | 0 | true | isis | 10 | 18 | fe80::201:1ff:feff:0 (direct) | ethernet-1/1 | | | | | | | | | .1 | +-----------------------+------+-----------+----------------+--------+------+-------------------------------+--------------+ ---------------------------------------------------------------------------------------------------------------------------------- 7 IPv6 routes total 7 IPv6 prefixes with active routes 0 IPv6 prefixes with active ECMP routes ---------------------------------------------------------------------------------------------------------------------------------- on cEOS device wan3(config)#sh ip route VRF: default Codes: C - connected, S - static, K - kernel, O - OSPF, IA - OSPF inter area, E1 - OSPF external type 1, E2 - OSPF external type 2, N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type2, B - BGP, B I - iBGP, B E - eBGP, R - RIP, I L1 - IS-IS level 1, I L2 - IS-IS level 2, O3 - OSPFv3, A B - BGP Aggregate, A O - OSPF Summary, NG - Nexthop Group Static Route, V - VXLAN Control Service, DH - DHCP client installed default route, M - Martian, DP - Dynamic Policy Route, L - VRF Leaked, RC - Route Cache Route Gateway of last resort is not set I L2 1.1.1.1/32 [115/10] via 192.1.3.1, Ethernet2 I L2 1.1.1.2/32 [115/10] via 192.1.2.1, Ethernet1 I L2 192.1.1.0/24 [115/20] via 192.1.2.1, Ethernet1 via 192.1.3.1, Ethernet2 C 192.1.2.0/24 is directly connected, Ethernet1 C 192.1.3.0/24 is directly connected, Ethernet2 wan3(config)#sh ipv6 route VRF: default Displaying 5 of 11 IPv6 routing table entries Codes: C - connected, S - static, K - kernel, O3 - OSPFv3, B - BGP, R - RIP, A B - BGP Aggregate, I L1 - IS-IS level 1, I L2 - IS-IS level 2, DH - DHCP, NG - Nexthop Group Static Route, M - Martian, DP - Dynamic Policy Route, L - VRF Leaked, RC - Route Cache Route I L2 2000:192:1::/64 [115/20] via fe80::201:1ff:feff:1, Ethernet1 via fe80::201:ff:feff:1, Ethernet2 C 2000:192:2::/64 [0/1] via Ethernet1, directly connected C 2000:192:3::/64 [0/1] via Ethernet2, directly connected I L2 3000::1/128 [115/10] via fe80::201:ff:feff:1, Ethernet2 I L2 3000::2/128 [115/10] via fe80::201:1ff:feff:1, Ethernet1","title":"Configuring OSPFv3 between Nokia SRL and Arista cEOS"},{"location":"SRL-Config/Protocols/OSPFv3-SRL-cEOS/#configuring-ospfv3-between-nokia-srl-and-arista-ceos","text":"This note describes how to setup ospfv3 between Nokia SRLinux and Arista cEOS. We use a triangle topology with 2 SRL and 1 cEOS device as an example WAN1 (SRL) (e1-1) -------(e1-1) WAN2 (SRL) (e1-2) (e1-2) | | +--(Et2) WAN3 (cEOS) (Et1)---+ We configure both IPv4 and IPv6 to show both address families working through OSPFv3","title":"Configuring OSPFv3 between Nokia SRL and Arista cEOS"},{"location":"SRL-Config/Protocols/OSPFv3-SRL-cEOS/#configuring-interfaces","text":"First we have to configure the interfaces on the various devices","title":"Configuring interfaces"},{"location":"SRL-Config/Protocols/OSPFv3-SRL-cEOS/#wan1-srl-router","text":"Configure the interface on WAN1 to WAN2 SRL --{ running }--[ interface ethernet-1/1 ]-- A:wan1# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.1.1/24 { } } ipv6 { address 2000:192:1::1/64 { } } } Configure the interface on WAN1 to WAN3 cEOS --{ running }--[ interface ethernet-1/2 ]-- A:wan1# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.3.1/24 { } } ipv6 { address 2000:192:3::1/64 { } } }","title":"WAN1 - SRL router"},{"location":"SRL-Config/Protocols/OSPFv3-SRL-cEOS/#wan2-srl-router","text":"Configure the interface on WAN2 to WAN1 SRL --{ running }--[ interface ethernet-1/1 ]-- A:wan2# info subinterface 1 { admin-state enable ipv4 { address 192.1.1.2/24 { } } ipv6 { address 2000:192:1::2/64 { } } } Configure the interface on WAN2 to WAN3 cEOS --{ running }--[ interface ethernet-1/2 ]-- A:wan2# info admin-state enable subinterface 1 { admin-state enable ipv4 { address 192.1.2.1/24 { } } ipv6 { address 2000:192:2::1/64 { } } }","title":"WAN2- SRL router"},{"location":"SRL-Config/Protocols/OSPFv3-SRL-cEOS/#wan3-ceos-router","text":"Configure the interface on WAN3 to WAN2 SRL interface Ethernet1 no switchport ip address 192.1.2.2/24 ipv6 address 2000:192:2::2/64 Configure the interface on WAN3 to WAN2 SRL interface Ethernet2 no switchport ip address 192.1.3.2/24 ipv6 address 2000:192:3::2/64","title":"WAN3 - cEOS router"},{"location":"SRL-Config/Protocols/OSPFv3-SRL-cEOS/#configuring-the-router-instance","text":"Before we can configure OSPFv3 we should enable the router instance on the various devices. On SRL we create a network-instance, which is like a VRF-Lite and can be used for the global routing table. In cEOS we enable ip routing and ipv6 routing","title":"Configuring the router instance"},{"location":"SRL-Config/Protocols/OSPFv3-SRL-cEOS/#wan1-srl-router_1","text":"--{ running }--[ network-instance default ]-- A:wan1# info type default admin-state enable interface ethernet-1/1.1 { } interface ethernet-1/2.1 { } interface lo1.1 { }","title":"WAN1 - SRL router"},{"location":"SRL-Config/Protocols/OSPFv3-SRL-cEOS/#wan2-srl-router_1","text":"--{ running }--[ network-instance default ]-- A:wan2# info type default admin-state enable interface ethernet-1/1.1 { } interface ethernet-1/2.1 { } interface lo1.1 { }","title":"WAN2- SRL router"},{"location":"SRL-Config/Protocols/OSPFv3-SRL-cEOS/#wan3-ceos-router_1","text":"ip routing ! ipv6 unicast-routing !","title":"WAN3 - cEOS router"},{"location":"SRL-Config/Protocols/OSPFv3-SRL-cEOS/#configuring-ospfv3","text":"After the interfaces are configured we will configure an OSPFv3 Backbone area 0.0.0.0 between the various routers.","title":"Configuring OSPFv3"},{"location":"SRL-Config/Protocols/OSPFv3-SRL-cEOS/#wan1-srl-router_2","text":"On SRL we create a OSPFv3 protocol instance --{ running }--[ network-instance default ]-- A:wan1# protocols ospf instance lab After we configure the ospf parameters like: admin-state: enables the ospf instance version: allows to select the OSPF version OSPFv2 or OSPFv3 address-family: IPV4_UNICAST or IPV6_UNICAST router-id: typically setup using the system loopback of the router, which is the same ip address as configured on lo0.1 area: here we use area 0.0.0.0 with its interfaces There are many more features supported by SRL which can be read in the configuration guides --{ running }--[ network-instance default protocols ospf instance lab ]-- A:wan1# info admin-state enable version OSPF_V3 address-family IPV4_UNICAST router-id 1.1.1.1 area 0.0.0.0 { interface ethernet-1/1.1 { admin-state enable interface-type point-to-point } interface ethernet-1/2.1 { admin-state enable interface-type point-to-point } interface lo1.1 { admin-state enable passive true } }","title":"WAN1 - SRL router"},{"location":"SRL-Config/Protocols/OSPFv3-SRL-cEOS/#wan2-srl-router_2","text":"A similar configuration is setup on WAN2 router --{ running }--[ network-instance default protocols ospf instance lab ]-- A:wan2# info admin-state enable version OSPF_V3 address-family IPV4_UNICAST router-id 1.1.1.2 area 0.0.0.0 { interface ethernet-1/1.1 { admin-state enable interface-type point-to-point } interface ethernet-1/2.1 { admin-state enable interface-type point-to-point } interface lo1.1 { admin-state enable passive true } }","title":"WAN2 - SRL router"},{"location":"SRL-Config/Protocols/OSPFv3-SRL-cEOS/#wan3-ceos-router_2","text":"On cEOS the configuration is slightly different, First we enable the isis instance with the specific net/system id and disable hello-padding router isis lab no hello padding net 49.0001.0003.0000.0000.00 log-adjacency-changes ! address-family ipv4 unicast ! address-family ipv6 unicast ! After we map the interfaces to the isis instance interface Ethernet1 no switchport ip address 192.1.2.2/24 ipv6 address 2000:192:2::2/64 isis enable lab isis network point-to-point ! interface Ethernet2 no switchport ip address 192.1.3.2/24 ipv6 address 2000:192:3::2/64 isis enable lab isis network point-to-point !","title":"WAN3 - cEOS router"},{"location":"SRL-Config/Protocols/OSPFv3-SRL-cEOS/#viewing-isis-state","text":"Now that we configured OSPF on the various devices we can look at the operational state of the various devices","title":"Viewing ISIS state"},{"location":"SRL-Config/Protocols/OSPFv3-SRL-cEOS/#isis-adjacency","text":"On SRL devices A:wan1# show / network-instance default protocols isis adjacency Network Instance: default Instance : lab +------------------+-----------------+----------------+------------+-----------------+-------+-----------------+-----------------+ | Neighbor System | Adjacency Level | Interface Name | Ip Address | Ipv6 Address | State | Last transition | Remaining | | Id | | | | | | | holdtime | +==================+=================+================+============+=================+=======+=================+=================+ | 0002.0000.0000 | L2 | ethernet-1/1.1 | 192.1.1.2 | fe80::201:1ff:f | up | 2020-08-30T16:3 | 22 | | | | | | eff:0 | | 4:10.100Z | | +------------------+-----------------+----------------+------------+-----------------+-------+-----------------+-----------------+ +------------------+-----------------+----------------+------------+-----------------+-------+-----------------+-----------------+ | Neighbor System | Adjacency Level | Interface Name | Ip Address | Ipv6 Address | State | Last transition | Remaining | | Id | | | | | | | holdtime | +==================+=================+================+============+=================+=======+=================+=================+ | 0003.0000.0000 | L1L2 | ethernet-1/2.1 | 192.1.3.2 | fe80::44f4:d4ff | up | 2020-08-30T16:3 | 22 | | | | | | :fec9:1af1 | | 4:20.500Z | | +------------------+-----------------+----------------+------------+-----------------+-------+-----------------+-----------------+ +-------------------+-----------------+----------------+------------+--------------+-------+-----------------+-------------------+ | Neighbor System | Adjacency Level | Interface Name | Ip Address | Ipv6 Address | State | Last transition | Remaining | | Id | | | | | | | holdtime | +===================+=================+================+============+==============+=======+=================+===================+ +-------------------+-----------------+----------------+------------+--------------+-------+-----------------+-------------------+ Adjacency Count: 2 ================================================================================================================================== On cEOS device","title":"ISIS adjacency"},{"location":"SRL-Config/Protocols/OSPFv3-SRL-cEOS/#isis-database","text":"On SRL devices A:wan1# show / network-instance default protocols isis database ---------------------------------------------------------------------------------------------------------------------------------- Network Instance: default Instance : lab +--------------+----------------------+----------+----------+----------+------------+ | Level Number | Lsp Id | Sequence | Checksum | Lifetime | Attributes | +==============+======================+==========+==========+==========+============+ | 2 | 0001.0000.0000.00-00 | 0x1d | 0x6dab | 834 | L1 L2 | | 2 | 0002.0000.0000.00-00 | 0x4b | 0xd217 | 809 | L1 L2 | | 2 | 0003.0000.0000.00-00 | 0x13 | 0xa8e5 | 937 | L1 L2 | +--------------+----------------------+----------+----------+----------+------------+ LSP Count: 3 ---------------------------------------------------------------------------------------------------------------------------------- On cEOS device wan3(config-router-isis)#sh isis database IS-IS Instance: lab VRF: default IS-IS Level 1 Link State Database LSPID Seq Num Cksum Life IS Flags wan3.00-00 14 20104 466 L2 <> IS-IS Level 2 Link State Database LSPID Seq Num Cksum Life IS Flags wan1.00-00 30 27564 985 L2 <> wan2.00-00 76 53272 907 L2 <> wan3.00-00 19 43237 444 L2 <>","title":"ISIS database"},{"location":"SRL-Config/Protocols/OSPFv3-SRL-cEOS/#routing-table","text":"on SRL devices A:wan1# show / network-instance default route-table all ---------------------------------------------------------------------------------------------------------------------------------- IPv4 Unicast route table of network instance default ---------------------------------------------------------------------------------------------------------------------------------- +-----------------------+------+-----------+----------------+--------+------+-------------------------------+--------------+ | Prefix | ID | Active | Owner | Metric | Pref | Next-hop (Type) | Next-hop | | | | | | | | | Interface | +=======================+======+===========+================+========+======+===============================+==============+ | 1.1.1.1/32 | 0 | true | host | 0 | 0 | None (extract) | None | | 1.1.1.2/32 | 0 | true | isis | 10 | 18 | 192.1.1.2 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 192.1.1.0/24 | 0 | true | local | 0 | 0 | 192.1.1.1 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 192.1.1.1/32 | 0 | true | host | 0 | 0 | None (extract) | None | | 192.1.1.255/32 | 0 | true | host | 0 | 0 | None (broadcast) | None | | 192.1.2.0/24 | 0 | true | isis | 20 | 18 | 192.1.1.2 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 192.1.3.0/24 | 0 | true | local | 0 | 0 | 192.1.3.1 (direct) | ethernet-1/2 | | | | | | | | | .1 | | 192.1.3.1/32 | 0 | true | host | 0 | 0 | None (extract) | None | | 192.1.3.255/32 | 0 | true | host | 0 | 0 | None (broadcast) | None | +-----------------------+------+-----------+----------------+--------+------+-------------------------------+--------------+ ---------------------------------------------------------------------------------------------------------------------------------- 9 IPv4 routes total 9 IPv4 prefixes with active routes 0 IPv4 prefixes with active ECMP routes ---------------------------------------------------------------------------------------------------------------------------------- ---------------------------------------------------------------------------------------------------------------------------------- IPv6 Unicast route table of network instance default ---------------------------------------------------------------------------------------------------------------------------------- +-----------------------+------+-----------+----------------+--------+------+-------------------------------+--------------+ | Prefix | ID | Active | Owner | Metric | Pref | Next-hop (Type) | Next-hop | | | | | | | | | Interface | +=======================+======+===========+================+========+======+===============================+==============+ | 2000:192:1::/64 | 0 | true | local | 0 | 0 | 2000:192:1::1 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 2000:192:1::1/128 | 0 | true | host | 0 | 0 | None (extract) | None | | 2000:192:2::/64 | 0 | true | isis | 20 | 18 | fe80::201:1ff:feff:0 (direct) | ethernet-1/1 | | | | | | | | | .1 | | 2000:192:3::/64 | 0 | true | local | 0 | 0 | 2000:192:3::1 (direct) | ethernet-1/2 | | | | | | | | | .1 | | 2000:192:3::1/128 | 0 | true | host | 0 | 0 | None (extract) | None | | 3000::1/128 | 0 | true | host | 0 | 0 | None (extract) | None | | 3000::2/128 | 0 | true | isis | 10 | 18 | fe80::201:1ff:feff:0 (direct) | ethernet-1/1 | | | | | | | | | .1 | +-----------------------+------+-----------+----------------+--------+------+-------------------------------+--------------+ ---------------------------------------------------------------------------------------------------------------------------------- 7 IPv6 routes total 7 IPv6 prefixes with active routes 0 IPv6 prefixes with active ECMP routes ---------------------------------------------------------------------------------------------------------------------------------- on cEOS device wan3(config)#sh ip route VRF: default Codes: C - connected, S - static, K - kernel, O - OSPF, IA - OSPF inter area, E1 - OSPF external type 1, E2 - OSPF external type 2, N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type2, B - BGP, B I - iBGP, B E - eBGP, R - RIP, I L1 - IS-IS level 1, I L2 - IS-IS level 2, O3 - OSPFv3, A B - BGP Aggregate, A O - OSPF Summary, NG - Nexthop Group Static Route, V - VXLAN Control Service, DH - DHCP client installed default route, M - Martian, DP - Dynamic Policy Route, L - VRF Leaked, RC - Route Cache Route Gateway of last resort is not set I L2 1.1.1.1/32 [115/10] via 192.1.3.1, Ethernet2 I L2 1.1.1.2/32 [115/10] via 192.1.2.1, Ethernet1 I L2 192.1.1.0/24 [115/20] via 192.1.2.1, Ethernet1 via 192.1.3.1, Ethernet2 C 192.1.2.0/24 is directly connected, Ethernet1 C 192.1.3.0/24 is directly connected, Ethernet2 wan3(config)#sh ipv6 route VRF: default Displaying 5 of 11 IPv6 routing table entries Codes: C - connected, S - static, K - kernel, O3 - OSPFv3, B - BGP, R - RIP, A B - BGP Aggregate, I L1 - IS-IS level 1, I L2 - IS-IS level 2, DH - DHCP, NG - Nexthop Group Static Route, M - Martian, DP - Dynamic Policy Route, L - VRF Leaked, RC - Route Cache Route I L2 2000:192:1::/64 [115/20] via fe80::201:1ff:feff:1, Ethernet1 via fe80::201:ff:feff:1, Ethernet2 C 2000:192:2::/64 [0/1] via Ethernet1, directly connected C 2000:192:3::/64 [0/1] via Ethernet2, directly connected I L2 3000::1/128 [115/10] via fe80::201:ff:feff:1, Ethernet2 I L2 3000::2/128 [115/10] via fe80::201:1ff:feff:1, Ethernet1","title":"Routing table"},{"location":"SRL-Config/System/TACACS/","text":"TACACS+ Docker Image This image is a built version of tac_plus, a TACACS+ implementation written by Marc Huber. Building the image Note: this image is not meant for production use, it was build to help people understand the SR-linux tacacs implementation. Build/Tag: make all make tag Push image to docker hub docker push henderiw/tacacs-plus-alpine:1.0.0 Run the image from docker hub When you are happy with the tac_plus.cfg configuration example, you can use the image with the default tacacs configuration docker run --name tac_plus -d -p 49:49 --network host henderiw/tacacs-plus-alpine:1.0.0 When you want to upload your own configuration, you can volume mount your specific tacacs configuration Example: below docker run --name tac_plus -d -p 49:49 --network host -v ~/tac_plus/tac_plus.cfg:/etc/tac_plus/tac_plus.cfg henderiw/tacacs-plus-alpine:1.0.0 When you run the image in a different bridge you might have to extend some iptables rules to allow communication between the SRL container and the atc_plus container. sudo iptables -I DOCKER-USER -i srlinux-mgmt -o docker0 -j ACCEPT sudo iptables -I DOCKER-USER -i docker0 -o srlinux-mgmt -j ACCEPT sudo iptables -t nat -I POSTROUTING 1 -o srlinux-mgmt -s 172.17.0.0/16 -j ACCEPT sudo iptables -t nat -I POSTROUTING 1 -o docker0 -s 10.1.1.0/24 -j ACCEPT sudo iptables -t nat -I POSTROUTING 1 -o srlinux-mgmt -s 10.1.1.0/24 -j ACCEPT Example configuration on SRL We configured 3 servers: 2 ipv4 and 1 ipv6 for both authorization and accounting --{ candidate shared }--[ system aaa ]-- A:ist1-dc-fab-f1p1-leaf1# info authentication { exit-on-reject false authentication-method [ tac_plus local ] } accounting { accounting-method [ tac_plus local ] event command { record start-stop } } server-group local { timeout 10 } server-group tac_plus { timeout 2 server 10.1.1.10 { name tac_plus network-instance mgmt tacacs { port 49 secret-key $aes$a97cpXsHbYuU=$rAqajiK1tvAdc1FREJ8RcA== } } server 172.17.0.2 { name tac_plus network-instance mgmt tacacs { port 49 secret-key $aes$a97cpXsHbYuU=$rAqajiK1tvAdc1FREJ8RcA== } } server 2001:10:1:1::a { name tac_plus network-instance mgmt tacacs { port 49 secret-key $aes$a97cpXsHbYuU=$rAqajiK1tvAdc1FREJ8RcA== } } } Example login and logging information Login example: ssh hans@10.1.1.2 hans@10.1.1.2's password: Last login: Fri Jul 17 18:01:55 2020 from 10.1.1.1 Using configuration file '/etc/opt/srlinux/srlinux.rc' Welcome to the srlinux CLI. Type 'help' (and press <ENTER>) if you need any help using this. --{ running }--[ ]-- Logging exmple: docker logs tac_plus Starting server... 2020-07-17 17:41:26 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=129 timezone=UTC service=shell priv-lvl=15 cmd=commit stay 2020-07-17 17:42:01 +0000 10.1.1.2 admin ssh 10.1.1.1 start task_id=130 timezone=UTC service=shell priv-lvl=15 cmd=info 2020-07-17 17:42:01 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=130 timezone=UTC service=shell priv-lvl=15 cmd=info 2020-07-17 17:42:11 +0000 10.1.1.2 admin ssh 10.1.1.1 start task_id=131 timezone=UTC service=shell priv-lvl=15 cmd=info from state 2020-07-17 17:42:11 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=131 timezone=UTC service=shell priv-lvl=15 cmd=info from state 2020-07-17 17:42:17 +0000 10.1.1.2 admin ssh 10.1.1.1 start task_id=132 timezone=UTC service=shell priv-lvl=15 cmd=exit 2020-07-17 17:42:17 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=132 timezone=UTC service=shell priv-lvl=15 cmd=exit 2020-07-17 17:42:19 +0000 10.1.1.2 admin ssh 10.1.1.1 start task_id=133 timezone=UTC service=shell priv-lvl=15 cmd=info from state 2020-07-17 17:42:19 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=133 timezone=UTC service=shell priv-lvl=15 cmd=info from state 2020-07-17 17:57:25 +0000 10.1.1.2 admin ssh 10.1.1.1 start task_id=134 timezone=UTC service=shell priv-lvl=15 cmd=info 2020-07-17 17:57:25 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=134 timezone=UTC service=shell priv-lvl=15 cmd=info 2020-07-17 17:57:28 +0000 10.1.1.2 admin ssh 10.1.1.1 start task_id=135 timezone=UTC service=shell priv-lvl=15 cmd=back 2020-07-17 17:57:28 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=135 timezone=UTC service=shell priv-lvl=15 cmd=back 2020-07-17 17:57:29 +0000 10.1.1.2 admin ssh 10.1.1.1 start task_id=136 timezone=UTC service=shell priv-lvl=15 cmd=info 2020-07-17 17:57:29 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=136 timezone=UTC service=shell priv-lvl=15 cmd=info 2020-07-17 17:57:33 +0000 10.1.1.2 admin ssh 10.1.1.1 start task_id=137 timezone=UTC service=shell priv-lvl=15 cmd=exit 2020-07-17 17:57:33 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=137 timezone=UTC service=shell priv-lvl=15 cmd=exit 2020-07-17 17:57:34 +0000 10.1.1.2 admin ssh 10.1.1.1 start task_id=138 timezone=UTC service=shell priv-lvl=15 cmd=exit 2020-07-17 17:57:34 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=138 timezone=UTC service=shell priv-lvl=15 cmd=exit 2020-07-17 17:57:36 +0000 10.1.1.2 admin ssh 10.1.1.1 start task_id=139 timezone=UTC service=shell priv-lvl=15 cmd=info 2020-07-17 17:57:36 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=139 timezone=UTC service=shell priv-lvl=15 cmd=info 2020-07-17 18:01:20 +0000 10.1.1.2 wim ssh 10.1.1.1 start task_id=3 timezone=UTC service=shell priv-lvl=15 cmd=exit 2020-07-17 18:01:20 +0000 10.1.1.2 wim ssh 10.1.1.1 stop task_id=3 timezone=UTC service=shell priv-lvl=15 cmd=exit 2020-07-17 18:01:22 +0000 10.1.1.2 wim ssh 10.1.1.1 start task_id=4 timezone=UTC service=shell priv-lvl=15 cmd=quit 2020-07-17 18:01:22 +0000 10.1.1.2 wim ssh 10.1.1.1 stop task_id=4 timezone=UTC service=shell priv-lvl=15 cmd=quit 2020-07-17 18:01:50 +0000 10.1.1.2 hans ssh 10.1.1.1 ascii login failed 2020-07-17 18:01:55 +0000 10.1.1.2 hans ssh 10.1.1.1 ascii login succeeded","title":"TACACS+ Docker Image"},{"location":"SRL-Config/System/TACACS/#tacacs-docker-image","text":"This image is a built version of tac_plus, a TACACS+ implementation written by Marc Huber.","title":"TACACS+ Docker Image"},{"location":"SRL-Config/System/TACACS/#building-the-image","text":"Note: this image is not meant for production use, it was build to help people understand the SR-linux tacacs implementation. Build/Tag: make all make tag Push image to docker hub docker push henderiw/tacacs-plus-alpine:1.0.0","title":"Building the image"},{"location":"SRL-Config/System/TACACS/#run-the-image-from-docker-hub","text":"When you are happy with the tac_plus.cfg configuration example, you can use the image with the default tacacs configuration docker run --name tac_plus -d -p 49:49 --network host henderiw/tacacs-plus-alpine:1.0.0 When you want to upload your own configuration, you can volume mount your specific tacacs configuration Example: below docker run --name tac_plus -d -p 49:49 --network host -v ~/tac_plus/tac_plus.cfg:/etc/tac_plus/tac_plus.cfg henderiw/tacacs-plus-alpine:1.0.0 When you run the image in a different bridge you might have to extend some iptables rules to allow communication between the SRL container and the atc_plus container. sudo iptables -I DOCKER-USER -i srlinux-mgmt -o docker0 -j ACCEPT sudo iptables -I DOCKER-USER -i docker0 -o srlinux-mgmt -j ACCEPT sudo iptables -t nat -I POSTROUTING 1 -o srlinux-mgmt -s 172.17.0.0/16 -j ACCEPT sudo iptables -t nat -I POSTROUTING 1 -o docker0 -s 10.1.1.0/24 -j ACCEPT sudo iptables -t nat -I POSTROUTING 1 -o srlinux-mgmt -s 10.1.1.0/24 -j ACCEPT","title":"Run the image from docker hub"},{"location":"SRL-Config/System/TACACS/#example-configuration-on-srl","text":"We configured 3 servers: 2 ipv4 and 1 ipv6 for both authorization and accounting --{ candidate shared }--[ system aaa ]-- A:ist1-dc-fab-f1p1-leaf1# info authentication { exit-on-reject false authentication-method [ tac_plus local ] } accounting { accounting-method [ tac_plus local ] event command { record start-stop } } server-group local { timeout 10 } server-group tac_plus { timeout 2 server 10.1.1.10 { name tac_plus network-instance mgmt tacacs { port 49 secret-key $aes$a97cpXsHbYuU=$rAqajiK1tvAdc1FREJ8RcA== } } server 172.17.0.2 { name tac_plus network-instance mgmt tacacs { port 49 secret-key $aes$a97cpXsHbYuU=$rAqajiK1tvAdc1FREJ8RcA== } } server 2001:10:1:1::a { name tac_plus network-instance mgmt tacacs { port 49 secret-key $aes$a97cpXsHbYuU=$rAqajiK1tvAdc1FREJ8RcA== } } }","title":"Example configuration on SRL"},{"location":"SRL-Config/System/TACACS/#example-login-and-logging-information","text":"Login example: ssh hans@10.1.1.2 hans@10.1.1.2's password: Last login: Fri Jul 17 18:01:55 2020 from 10.1.1.1 Using configuration file '/etc/opt/srlinux/srlinux.rc' Welcome to the srlinux CLI. Type 'help' (and press <ENTER>) if you need any help using this. --{ running }--[ ]-- Logging exmple: docker logs tac_plus Starting server... 2020-07-17 17:41:26 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=129 timezone=UTC service=shell priv-lvl=15 cmd=commit stay 2020-07-17 17:42:01 +0000 10.1.1.2 admin ssh 10.1.1.1 start task_id=130 timezone=UTC service=shell priv-lvl=15 cmd=info 2020-07-17 17:42:01 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=130 timezone=UTC service=shell priv-lvl=15 cmd=info 2020-07-17 17:42:11 +0000 10.1.1.2 admin ssh 10.1.1.1 start task_id=131 timezone=UTC service=shell priv-lvl=15 cmd=info from state 2020-07-17 17:42:11 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=131 timezone=UTC service=shell priv-lvl=15 cmd=info from state 2020-07-17 17:42:17 +0000 10.1.1.2 admin ssh 10.1.1.1 start task_id=132 timezone=UTC service=shell priv-lvl=15 cmd=exit 2020-07-17 17:42:17 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=132 timezone=UTC service=shell priv-lvl=15 cmd=exit 2020-07-17 17:42:19 +0000 10.1.1.2 admin ssh 10.1.1.1 start task_id=133 timezone=UTC service=shell priv-lvl=15 cmd=info from state 2020-07-17 17:42:19 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=133 timezone=UTC service=shell priv-lvl=15 cmd=info from state 2020-07-17 17:57:25 +0000 10.1.1.2 admin ssh 10.1.1.1 start task_id=134 timezone=UTC service=shell priv-lvl=15 cmd=info 2020-07-17 17:57:25 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=134 timezone=UTC service=shell priv-lvl=15 cmd=info 2020-07-17 17:57:28 +0000 10.1.1.2 admin ssh 10.1.1.1 start task_id=135 timezone=UTC service=shell priv-lvl=15 cmd=back 2020-07-17 17:57:28 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=135 timezone=UTC service=shell priv-lvl=15 cmd=back 2020-07-17 17:57:29 +0000 10.1.1.2 admin ssh 10.1.1.1 start task_id=136 timezone=UTC service=shell priv-lvl=15 cmd=info 2020-07-17 17:57:29 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=136 timezone=UTC service=shell priv-lvl=15 cmd=info 2020-07-17 17:57:33 +0000 10.1.1.2 admin ssh 10.1.1.1 start task_id=137 timezone=UTC service=shell priv-lvl=15 cmd=exit 2020-07-17 17:57:33 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=137 timezone=UTC service=shell priv-lvl=15 cmd=exit 2020-07-17 17:57:34 +0000 10.1.1.2 admin ssh 10.1.1.1 start task_id=138 timezone=UTC service=shell priv-lvl=15 cmd=exit 2020-07-17 17:57:34 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=138 timezone=UTC service=shell priv-lvl=15 cmd=exit 2020-07-17 17:57:36 +0000 10.1.1.2 admin ssh 10.1.1.1 start task_id=139 timezone=UTC service=shell priv-lvl=15 cmd=info 2020-07-17 17:57:36 +0000 10.1.1.2 admin ssh 10.1.1.1 stop task_id=139 timezone=UTC service=shell priv-lvl=15 cmd=info 2020-07-17 18:01:20 +0000 10.1.1.2 wim ssh 10.1.1.1 start task_id=3 timezone=UTC service=shell priv-lvl=15 cmd=exit 2020-07-17 18:01:20 +0000 10.1.1.2 wim ssh 10.1.1.1 stop task_id=3 timezone=UTC service=shell priv-lvl=15 cmd=exit 2020-07-17 18:01:22 +0000 10.1.1.2 wim ssh 10.1.1.1 start task_id=4 timezone=UTC service=shell priv-lvl=15 cmd=quit 2020-07-17 18:01:22 +0000 10.1.1.2 wim ssh 10.1.1.1 stop task_id=4 timezone=UTC service=shell priv-lvl=15 cmd=quit 2020-07-17 18:01:50 +0000 10.1.1.2 hans ssh 10.1.1.1 ascii login failed 2020-07-17 18:01:55 +0000 10.1.1.2 hans ssh 10.1.1.1 ascii login succeeded","title":"Example login and logging information"},{"location":"SRL-setup/ContainerLab/","text":"ContainerLab Setting up SRL can be done using containerlab","title":"ContainerLab"},{"location":"SRL-setup/ContainerLab/#containerlab","text":"Setting up SRL can be done using containerlab","title":"ContainerLab"}]}